(this["webpackJsonprylos-space-adventure"]=this["webpackJsonprylos-space-adventure"]||[]).push([[0],{48:function(e,n,t){},58:function(e,n,t){"use strict";t.r(n);var r=t(4),i=t.n(r),a=t(33),o=t.n(a),c=(t(48),t(6)),s=t(9),l=t(5),d=t(0),u=t(35),m=t(10),h=t(23),j=t.p+"static/media/laser.373d639d.mp3",p=t.p+"static/media/engine.75bbe12e.mp3",f=t.p+"static/media/engine2.87c3c40a.mp3",b=t.p+"static/media/warp.1f9bec85.mp3",x=t.p+"static/media/click.db461987.mp3",g=t.p+"static/media/explosion.615cfd43.mp3",O=t.p+"static/media/crash.184e27d2.wav",y=t.p+"static/media/rylos-freak-lust.d42472e3.png",v=t.p+"static/media/rylos-freak-lust.a13462cf.mp3",w=t.p+"static/media/rylos-misunderstood.d13d9c2d.jpg",M=t.p+"static/media/rylos-misunderstood.2afd4c11.mp3",k=t.p+"static/media/rylos-road.86b24c20.png",S=t.p+"static/media/rylos-road.138ea8a0.mp3",A=t.p+"static/media/rylos-climate.f7a8098a.jpg",_=t.p+"static/media/rylos-climate.c3742818.mp3",R=t.p+"static/media/rylos-black-liquid.c5d1d0a2.jpg",T=t.p+"static/media/rylos-black-liquid.130be6d9.mp3",z={explosion:g},C=[{songName:"Rylos - Freak Lust",songCover:y,songSrc:v},{songName:"Rylos - Misunderstood",songCover:w,songSrc:M},{songName:"Rylos - Road",songCover:k,songSrc:S},{songName:"Rylos - Climate",songCover:A,songSrc:_},{songName:"Rylos - Black Liquid",songCover:R,songSrc:T}],P=new Audio(O),B=new Audio(j),E=new Audio(p),G=new Audio(f),I=new Audio(b),F=new Audio(x);new Audio(g);function D(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e.currentTime=0,e.volume=n,e.loop=t,e.play()}var L=t(34),N=t.n(L),V=1;function q(e,n,t,r,i){return new Array(e).fill().map((function(){var e=Math.random(),a=n.parameters.path.getPointAt(e);a.multiplyScalar(15);var o=a.clone().add(new d.Vector3(-t+Math.random()*t*2,-t+Math.random()*t*2,-t+Math.random()*t*2)),c=.1+Math.random();return{guid:V++,scale:"function"===typeof i?i():i,size:r,offset:o,pos:a,speed:c,radius:t,t:e,hit:new d.Vector3,distance:1e3}}))}var U,X,H,J,K,W,Y,Q,Z,$,ee,ne,te,re,ie,ae,oe,ce,se,le,de,ue,me,he=Object(h.a)((function(e,n){var t=new u.a.GrannyKnot,r=new d.TubeBufferGeometry(t,250,.2,10,!0),i=void 0,a=void 0,o=void 0,c=new d.Box3;return{currentTrackIndex:0,menu:void 0,camera:void 0,lastPoints:0,points:0,highScore:0,health:100,lasers:[],explosions:[],rocks:q(100,r,150,8,(function(){return 1+2.5*Math.random()})),immunity:!0,clock:null,mutation:{t:0,position:new d.Vector3,startTime:null,track:r,scale:15,fov:70,hits:!1,particles:q(1500,r,100,1,(function(){return.5+.8*Math.random()})),looptime:4e4,binormal:new d.Vector3,normal:new d.Vector3,mouse:new d.Vector2(-250,50),dummy:new d.Object3D,ray:new d.Ray,box:new d.Box3},actions:{menu:{start:function(){e({menu:null})},game:function(){e({menu:"game"})},credits:function(){e({menu:"credits"})}},reset:function(){e({menu:"game",health:100,immunity:!0,points:0})},init:function(t){var i=n(),o=i.mutation,c=i.actions,u=localStorage.getItem("rylos-space-adventure-hiscore");u&&parseInt(u)&&e({highScore:u}),e({camera:t,clock:new d.Clock(!0)});var h=n().clock;o.startTime=Date.now(),D(E,.4,!0),D(G,.4,!0),Object(m.b)((function(){n().immunity&&setTimeout((function(){return e({immunity:!1})}),5e3)})),Object(m.b)((function(){var t=n(),i=t.rocks,d=t.immunity,u=Date.now(),m=40-h.getElapsedTime()/15,j=Math.max(1e3*m,1e4),p=o.t=(u-o.startTime)%j/j;o.position=r.parameters.path.getPointAt(p),o.position.multiplyScalar(o.scale);var f=!1;p>.3&&p<.4?f||(f=!0,D(I)):p>.5&&(f=!1);var b=i.filter(c.test),x=o.hits;o.hits=b.length,0===x&&o.hits&&D(F);var g=n().lasers;if(o.hits&&g.length&&u-g[g.length-1]<100){var O=b.map((function(e){return Object(l.a)({time:Date.now()},e)}));e((function(e){return{explosions:[].concat(Object(s.a)(e.explosions),Object(s.a)(O))}})),clearTimeout(a),a=setTimeout((function(){return e((function(e){return{explosions:e.explosions.filter((function(e){var n=e.time;return Date.now()-n<=1e3}))}}))}),1e3);var y=q(o.hits,r,150,8,(function(){return 1+2.5*Math.random()}));e((function(e){return{points:e.points+100*b.length,rocks:[].concat(Object(s.a)(y),Object(s.a)(e.rocks.filter((function(e){return!b.find((function(n){return n.guid===e.guid}))}))))}}))}var v=b.filter((function(e){return e.distance<30}));if(v.length>0){D(P,1,!1);var w=v.map((function(e){return Object(l.a)({time:Date.now()},e)}));e((function(e){return{explosions:[].concat(Object(s.a)(e.explosions),Object(s.a)(w))}})),clearTimeout(a),a=setTimeout((function(){return e((function(e){return{explosions:e.explosions.filter((function(e){var n=e.time;return Date.now()-n<=1e3}))}}))}),1e3);var M=q(o.hits,r,150,8,(function(){return 1+2.5*Math.random()}));e((function(e){return{rocks:[].concat(Object(s.a)(M),Object(s.a)(e.rocks.filter((function(e){return!v.find((function(n){return n.guid===e.guid}))}))))}})),!1===d&&e((function(e){return{health:Math.max(0,e.health-20)}}))}if(n().health<=0){var k=n().points;n().cancelAutofire(),e({menu:"dead",lastPoints:k,clock:null}),n().highScore<k&&(e({highScore:k}),localStorage.setItem("rylos-space-adventure-hiscore",k))}}))},autofire:N()((function(e){e&&0===e.button&&(clearInterval(o),n().actions.fire(),o=setInterval((function(){n().actions.fire()}),200))}),200),cancelAutofire:function(){clearInterval(o)},fire:function(){e((function(e){return{lasers:[].concat(Object(s.a)(e.lasers),[Date.now()])}})),clearTimeout(i),i=setTimeout((function(){return e((function(e){return{lasers:e.lasers.filter((function(e){return Date.now()-e<=1e3}))}}))}),1e3),D(B,.25)},onTouchMove:function(e){var t=e.touches[0],r=t.clientX,i=t.clientY;n().actions.move({clientX:r,clientY:i})},move:function(e){var t=e.clientX,r=e.clientY;n().mutation.mouse.set(t-window.innerWidth/2,r-window.innerHeight/2)},test:function(e){c.min.copy(e.offset),c.max.copy(e.offset),c.expandByScalar(e.size*e.scale),e.hit.set(1e4,1e4,1e4);var t=n().mutation.ray.intersectBox(c,e.hit);return e.distance=n().mutation.ray.origin.distanceTo(e.hit),t}}}})),je=t(7),pe=t(1),fe=function(e){return Object(pe.jsx)(be,{children:Object(pe.jsx)(Oe,{children:e.children})})},be=je.c.div(U||(U=Object(c.a)(['\n  background-repeat: no-repeat;\n  background-position: center 10%;\n  background-color: #16161d;\n  display: flex;\n  width: 100%;\n  height: 100%;\n  align-items: center;\n  justify-content: center;\n  color: white;\n  padding: 2rem;\n  cursor: default;\n\n  h1 {\n    font-size: 6rem;\n    font-family: "Sedgwick Ave";\n    text-transform: uppercase;\n    margin-bottom: 0;\n    margin-top: 0;\n    text-align: center;\n  }\n\n  div + p {\n    font-size: 2rem;\n    width: 1200px;\n    max-width: 100%;\n    text-align: center;\n    margin-bottom: 5rem;\n    margin-top: 0;\n  }\n\n  @media only screen and (max-width: 900px) {\n    h1 {\n      font-size: 2.5rem;\n    }\n\n    div + p {\n      font-size: 1.2rem;\n    }\n  }\n']))),xe=je.c.div(X||(X=Object(c.a)(["\n  justify-content: center;\n  align-items: center;\n  display: flex;\n\n  @media only screen and (max-width: 900px) {\n    flex-direction: column;\n  }\n"]))),ge=je.c.button(H||(H=Object(c.a)(['\n  border: 3px solid orangered;\n  pointer-events: all;\n  background: linear-gradient(#4f0158, #000000);\n  cursor: pointer;\n  color: white;\n  font-weight: 900;\n  text-transform: uppercase;\n  font-size: 3rem;\n  font-family: "Sedgwick Ave";\n  min-width: 300px;\n  padding: 0 2rem;\n  margin-top: 1rem;\n  margin-right: 1rem;\n\n  transition: background linear 0.2s;\n\n  &:last-of-type {\n    margin-right: 0;\n  }\n\n  &:hover {\n    background: linear-gradient(#740181, #000000);\n  }\n\n  &:focus {\n    background: linear-gradient(#47004f, #000000);\n  }\n\n  @media only screen and (max-width: 900px) {\n    font-size: 2rem;\n  }\n']))),Oe=je.c.div(J||(J=Object(c.a)(["\n  height: 100%;\n  width: 1024px;\n  max-width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n\n  img#logo {\n    margin-top: -4rem;\n    margin-bottom: -4rem;\n\n    @media only screen and (max-width: 900px) {\n      margin-top: -2rem;\n      margin-bottom: -2rem;\n    }\n  }\n\n  img {\n    max-width: 100%;\n  }\n"]))),ye=t.p+"static/media/rylos-logo.46173d62.png",ve=t.p+"static/media/start.35972233.ogg",we=t.p+"static/media/select.2ed6fa3f.wav",Me=function(e){return Object(pe.jsx)(ke,{children:e.words.map((function(e){return Object(pe.jsx)(Se,{children:Object(s.a)(e).map((function(e,n){return Object(pe.jsx)("span",{children:e},"".concat(e,"-").concat(n))}))},e)}))})},ke=je.c.div(K||(K=Object(c.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: center;\n\n  @media only screen and (max-width: 900px) {\n    flex-direction: column;\n    margin-top: 1rem;\n  }\n"]))),Se=je.c.h1(W||(W=Object(c.a)(["\n  display: flex;\n  flex-wrap: nowrap;\n\n  &:first-of-type {\n    margin-right: 2rem;\n\n    @media only screen and (max-width: 900px) {\n      margin-bottom: -1rem;\n      margin-right: 0;\n    }\n  }\n\n  span {\n    text-shadow: 0 0 5px #fff, 0 0 60px #9b51e0;\n    display: inline-block;\n    animation: wave-text 1s ease-in-out infinite;\n  }\n\n  span:nth-of-type(1) {\n    animation-delay: 0s;\n  }\n  span:nth-of-type(2) {\n    animation-delay: 0.1s;\n  }\n  span:nth-of-type(3) {\n    animation-delay: 0.2s;\n  }\n  span:nth-of-type(4) {\n    animation-delay: 0.3s;\n  }\n  span:nth-of-type(5) {\n    animation-delay: 0.4s;\n  }\n  span:nth-of-type(6) {\n    animation-delay: 0.5s;\n  }\n  span:nth-of-type(7) {\n    animation-delay: 0.6s;\n  }\n  span:nth-of-type(8) {\n    animation-delay: 0.7s;\n  }\n  span:nth-of-type(9) {\n    animation-delay: 0.8s;\n  }\n"]))),Ae=function(){var e=he((function(e){return e.actions}));return Object(pe.jsxs)(fe,{children:[Object(pe.jsx)("img",{id:"logo",src:ye}),Object(pe.jsx)(Me,{words:["Space","Adventure"]}),Object(pe.jsx)("p",{children:"Humankind has been dumping trash in to the space for ages. Now the trash are returning to the earth. Only Ned the Carrot and his loyal spaceship can stop the earth from being trashed."}),Object(pe.jsxs)(xe,{children:[Object(pe.jsx)(ge,{onClick:function(){new Audio(ve).play(),e.menu.game()},children:"Play"}),Object(pe.jsx)(ge,{onClick:function(){new Audio(we).play(),e.menu.credits()},children:"Credits"})]})]})},_e=t.p+"static/media/game-over.dea041e4.wav",Re=t.p+"static/media/award.8c76d1fb.svg",Te=function(){var e=he((function(e){return e.highScore})),n=he((function(e){return e.lastPoints})),t=he((function(e){return e.actions.reset}));return Object(pe.jsxs)(fe,{children:[Object(pe.jsx)("audio",{autoPlay:!0,children:Object(pe.jsx)("source",{src:_e})}),Object(pe.jsx)("h1",{children:"Game Over"}),Object(pe.jsxs)(ze,{children:[Object(pe.jsxs)("p",{children:["Score: ",n]}),e>0&&Object(pe.jsxs)("p",{children:["Highscore: ",e]}),n>0&&n===e&&Object(pe.jsxs)(Ce,{children:[Object(pe.jsx)("img",{src:Re}),Object(pe.jsx)("p",{children:"New highscore!"})]})]}),Object(pe.jsx)(xe,{children:Object(pe.jsx)(ge,{onClick:function(){new Audio(startAudio).play(),t()},children:"Play Again"})})]})},ze=je.c.div(Y||(Y=Object(c.a)(["\n  > p {\n    font-size: 2rem;\n    text-align: center;\n    margin-bottom: 1rem;\n    margin-top: 0;\n  }\n\n  @media only screen and (max-width: 900px) {\n    p {\n      font-size: 1.2rem;\n    }\n  }\n"]))),Ce=je.c.div(Q||(Q=Object(c.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  img {\n    max-width: 45px;\n    margin-right: 1rem;\n  }\n\n  p {\n    white-space: nowrap;\n    font-size: 2rem;\n    text-align: center;\n    color: goldenrod;\n  }\n"]))),Pe=t(11),Be=t.p+"static/media/rewind.4cd5b907.svg",Ee=t.p+"static/media/play.496c51e4.svg",Ge=function(){var e=Math.floor(Math.random()*(C.length-1-0+1)+0),n=Object(r.useState)(e),t=Object(Pe.a)(n,2),i=t[0],a=t[1],o=Object(r.useState)(new Audio(C[i].songSrc))[0],c=C[i];Object(r.useEffect)((function(){return o.loop=!0,o.play(),function(){o.pause(),o.removeAttribute("src"),o.load()}}),[]),Object(r.useEffect)((function(){o.pause(),o.setAttribute("src",C[i].songSrc),o.load(),o.play()}),[i]);return Object(pe.jsxs)(Ie,{children:[Object(pe.jsx)(Fe,{children:Object(pe.jsx)("img",{src:c.songCover})}),Object(pe.jsxs)(De,{children:[Object(pe.jsx)(Le,{children:Object(pe.jsxs)(Ne,{children:[Object(pe.jsx)("span",{children:null===c||void 0===c?void 0:c.songName}),Object(pe.jsx)("span",{className:"last",children:null===c||void 0===c?void 0:c.songName})]})}),Object(pe.jsxs)(Ve,{children:[Object(pe.jsx)("button",{children:Object(pe.jsx)("img",{onClick:function(){var e=Math.max(i-1,0);a(i===e?C.length-1:e)},src:Be})}),Object(pe.jsx)("button",{onClick:function(){o.duration>0&&!o.paused?o.pause():o.play()},children:Object(pe.jsx)("img",{src:Ee})}),Object(pe.jsx)("button",{children:Object(pe.jsx)("img",{onClick:function(){var e=Math.min(i+1,C.length-1);a(e===i?0:e)},src:Be})})]})]})]})},Ie=je.c.div(Z||(Z=Object(c.a)(["\n  width: 400px;\n  max-width: 100%;\n  background: linear-gradient(#4f0158, #000000);\n  flex-direction: row;\n  display: flex;\n  padding: 10px;\n  overflow: hidden;\n  box-shadow: 0 15px 15px rgba(0, 0, 0, 0.7);\n  border-radius: 4px;\n\n  * {\n    cursor: pointer;\n    pointer-events: all;\n  }\n\n  @media only screen and (max-width: 900px) {\n    width: 100%;\n  }\n"]))),Fe=je.c.div($||($=Object(c.a)(["\n  border: 2px solid orangered;\n  overflow: hidden;\n  height: 90px;\n  width: 90px;\n  margin-right: 1rem;\n  img {\n    height: 100%;\n  }\n"]))),De=je.c.div(ee||(ee=Object(c.a)(["\n  flex-grow: 1;\n"]))),Le=je.c.div(ne||(ne=Object(c.a)(["\n  display: flex;\n  flex-direction: row;\n  width: 100%;\n  margin-bottom: 0.5rem;\n"]))),Ne=je.c.div(te||(te=Object(c.a)(["\n  position: relative;\n  height: 100%;\n  width: 100%;\n  border-radius: 2px;\n  padding: 1rem 0.5rem;\n  overflow: hidden;\n  background: black;\n\n  span {\n    white-space: nowrap;\n    padding-left: 100%;\n    top: 8px;\n    position: absolute;\n    color: white;\n    display: inline-block;\n    animation: scroll-left 12s linear infinite;\n  }\n  span.last {\n    animation-delay: 6s;\n  }\n"]))),Ve=je.c.div(re||(re=Object(c.a)(["\n  button {\n    border-radius: 1rem;\n    background: transparent;\n    width: 3.5rem;\n    margin-right: 0.5rem;\n    height: 2.5rem;\n    border-color: orangered;\n  }\n\n  button:last-of-type img {\n    width: 100%;\n    transform: scaleX(-1);\n  }\n\n  button img {\n    width: 100%;\n    height: 100%;\n  }\n"]))),qe=t.p+"static/media/cardiogram.3d5622b7.svg",Ue=t.p+"static/media/heartbeat.7f66a5e2.wav",Xe=t.p+"static/media/garbage.520ba2b9.svg";function He(){var e=he((function(e){return e.points})),n=he((function(e){return e.immunity})),t=he((function(e){return e.health})),i=he((function(e){return e.actions.toggleSound})),a=Object(r.useMemo)((function(){return e>=1e3?(e/1e3).toFixed(1)+"K":e}),[e]),o=t<50,c=o?"#c5411e":"#008C20";return Object(r.useEffect)((function(){var e=new Audio;return e.volume=1,e.loop=!0,o?(e.setAttribute("src",Ue),e.load(),e.play()):(e.pause(),e.removeAttribute("src"),e.load()),function(){e.pause(),e.removeAttribute("src"),e.load()}}),[o]),Object(pe.jsxs)(pe.Fragment,{children:[Object(pe.jsx)(Qe,{onClick:function(){return i()},children:Object(pe.jsxs)(We,{children:[Object(pe.jsx)("img",{className:o?"pulse":"",src:qe}),Object(pe.jsx)("div",{style:{flexGrow:1,marginRight:"1rem"},children:Object(pe.jsx)(Ye,{style:{backgroundColor:n?"blue":c,width:"".concat(t,"%")}})})]})}),Object(pe.jsx)(Ze,{children:Object(pe.jsx)("a",{target:"_blank",href:"https://www.rylosplanet.fi/",children:"Rylos Planet"})}),Object(pe.jsx)($e,{children:Object(pe.jsxs)(Ke,{children:[Object(pe.jsx)("img",{src:Xe}),Object(pe.jsx)("h1",{children:a})]})}),Object(pe.jsx)(nn,{}),Object(pe.jsx)(en,{children:Object(pe.jsx)(Ge,{})})]})}var Je=Object(je.b)(ie||(ie=Object(c.a)(['\n  font-family: "Sedgwick Ave", sans-serif;\n  position: absolute;\n  text-transform: uppercase;\n  font-weight: 900;\n  font-variant-numeric: slashed-zero tabular-nums;\n  line-height: 1em;\n  pointer-events: none;\n  color: #9b51e0;\n']))),Ke=je.c.div(ae||(ae=Object(c.a)(["\n  display: flex;\n  flex-direction: row;\n\n  img {\n    width: 50px;\n    margin-right: 2rem;\n  }\n"]))),We=je.c.div(oe||(oe=Object(c.a)(["\n  border-radius: 0.5rem;\n  display: flex;\n  flex-direction: row;\n  background: #333;\n  border: 2px solid #666;\n  margin-top: 1rem;\n  padding: 0.5rem;\n  width: 100%;\n\n  img {\n    max-width: 45px;\n    margin-right: 1rem;\n  }\n"]))),Ye=je.c.div(ce||(ce=Object(c.a)(["\n  background: green;\n  color: white;\n  overflow: hidden;\n  transition: width 0.2s ease-in;\n  height: 100%;\n"]))),Qe=je.c.div(se||(se=Object(c.a)(["\n  ","\n  top: 50px;\n  left: 50px;\n  font-size: 2em;\n  transform: skew(5deg, 5deg);\n  width: 250px;\n\n  @media only screen and (max-width: 900px) {\n    width: 200px;\n    left: 20px;\n    top: 20px;\n    font-size: 1.5em;\n  }\n"])),Je),Ze=je.c.div(le||(le=Object(c.a)(["\n  ","\n  text-align: right;\n  top: 50px;\n  right: 50px;\n  font-size: 2em;\n  transform: skew(-5deg, -5deg);\n  pointer-events: all;\n  cursor: pointer;\n  text-shadow: 1px 1px 1px rgba(0, 0, 0.5);\n\n  * {\n    cursor: pointer;\n    pointer-events: all;\n  }\n\n  @media only screen and (max-width: 900px) {\n    top: 55px;\n    right: 30px;\n    transform: none;\n    font-size: 1.5em;\n  }\n\n  & > a {\n    color: #9b51e0;\n    text-decoration: none;\n  }\n  @media only screen and (max-width: 900px) {\n    font-size: 1.5em;\n  }\n"])),Je),$e=je.c.div(de||(de=Object(c.a)(["\n  ","\n  bottom: 50px;\n  left: 50px;\n  transform: skew(-5deg, -5deg);\n  text-shadow: 1px 1px 1px rgba(0, 0, 0.5);\n\n  h1 {\n    margin: 0;\n    font-size: 4em;\n    line-height: 1em;\n  }\n  @media only screen and (max-width: 900px) {\n    left: 20px;\n    bottom: 140px;\n    h1 {\n      font-size: 3em !important;\n    }\n  }\n"])),Je),en=je.c.div(ue||(ue=Object(c.a)(["\n  ","\n  bottom: 50px;\n  right: 50px;\n  transform: skew(5deg, 5deg);\n\n  * {\n    cursor: pointer;\n    pointer-events: all;\n  }\n\n  @media only screen and (max-width: 900px) {\n    transform: none;\n    bottom: 0;\n    right: 0;\n    width: 100%;\n  }\n"])),Je),nn=Object(je.a)(me||(me=Object(c.a)(["\n  * {\n    box-sizing: border-box;\n  }\n\n  html,\n  body,\n  #root {\n    width: 100%;\n    height: 100%;\n    margin: 0;\n    padding: 0;\n    user-select: none;\n    overflow: hidden;\n  }\n\n  #root {\n    overflow: auto;\n    padding: 0px;\n  }\n\n  body {\n    position: fixed;\n    overflow: hidden;\n    overscroll-behavior-y: none;\n    font-family: -apple-system, BlinkMacSystemFont, avenir next, avenir, helvetica neue, helvetica, ubuntu, roboto, noto, segoe ui, arial, sans-serif;\n    color: black;\n    background: white;\n  }\n"])));function tn(e){var n=e.count,t=void 0===n?2e3:n,i=Object(r.useMemo)((function(){for(var e=[],n=0;n<t;n++){var r=4e3,i=2*Math.PI*Math.random(),a=Math.acos(2*Math.random()-1),o=r*Math.cos(i)*Math.sin(a)+(4e3*Math.random()-2e3),c=r*Math.sin(i)*Math.sin(a)+(4e3*Math.random()-2e3),s=r*Math.cos(a)+(2e3*Math.random()-1e3);e.push(o),e.push(c),e.push(s)}return new Float32Array(e)}),[t]);return Object(pe.jsxs)("points",{children:[Object(pe.jsx)("bufferGeometry",{children:Object(pe.jsx)("bufferAttribute",{attachObject:["attributes","position"],count:i.length/3,array:i,itemSize:3})}),Object(pe.jsx)("pointsMaterial",{size:15,sizeAttenuation:!0,color:"white",fog:!1})]})}var rn=t.p+"static/media/earth.45ed3b77.jpg",an=t.p+"static/media/moon.27019542.png";function on(){var e=Object(r.useRef)(),n=Object(m.e)(d.TextureLoader,[rn,an]),t=Object(Pe.a)(n,2),i=t[0],a=t[1];return Object(pe.jsxs)("group",{ref:e,scale:[100,100,100],position:[-500,-500,1e3],children:[Object(pe.jsxs)("mesh",{children:[Object(pe.jsx)("sphereGeometry",{args:[5,32,32]}),Object(pe.jsx)("meshStandardMaterial",{map:i,roughness:1,fog:!1})]}),Object(pe.jsxs)("mesh",{position:[5,-5,-5],children:[Object(pe.jsx)("sphereGeometry",{args:[.75,32,32]}),Object(pe.jsx)("meshStandardMaterial",{roughness:1,map:a,fog:!1})]}),Object(pe.jsx)("pointLight",{position:[-5,-5,-5],distance:1e3,intensity:6}),Object(pe.jsxs)("mesh",{position:[-30,-10,-60],children:[Object(pe.jsx)("sphereGeometry",{args:[4,32,32]}),Object(pe.jsx)("meshBasicMaterial",{color:"#FFFF99",fog:!1}),Object(pe.jsx)("pointLight",{distance:6100,intensity:50,color:"white"})]})]})}var cn=t(42),sn=t(19),ln=t(41),dn=t(43),un=t(44);function mn(){var e=Object(r.useRef)(),n=Object(m.f)(),t=n.scene,i=n.gl,a=n.size,o=n.camera;return Object(r.useEffect)((function(){e.current.setSize(a.width,a.height)}),[a]),Object(m.d)((function(){return e.current.render()}),2),Object(pe.jsxs)("effectComposer",{ref:e,args:[i],children:[Object(pe.jsx)("renderPass",{attachArray:"passes",scene:t,camera:o}),Object(pe.jsx)("unrealBloomPass",{attachArray:"passes",args:[void 0,1.8,1,0]})]})}function hn(){var e=Object(r.useRef)(),n=he((function(e){return e.mutation})),t=n.particles,i=n.dummy;return Object(r.useEffect)((function(){t.forEach((function(n,t){var r=n.offset,a=n.scale;i.position.copy(r),i.scale.set(a,a,a),i.rotation.set(Math.sin(Math.random())*Math.PI,Math.sin(Math.random())*Math.PI,Math.cos(Math.random())*Math.PI),i.updateMatrix(),e.current.setMatrixAt(t,i.matrix)})),e.current.instanceMatrix.needsUpdate=!0}),[]),Object(pe.jsxs)("instancedMesh",{ref:e,args:[null,null,t.length],frustumCulled:!1,children:[Object(pe.jsx)("coneGeometry",{args:[2,2,3]}),Object(pe.jsx)("meshStandardMaterial",{color:"#606060"})]})}Object(m.c)({EffectComposer:cn.a,ShaderPass:sn.a,RenderPass:ln.a,UnrealBloomPass:dn.a,FilmPass:un.a});var jn=t(28);function pn(){var e=Object(m.e)(jn.a,"/rylos-space-adventure/rock.gltf");return he((function(e){return e.rocks})).map((function(n){return Object(r.createElement)(fn,Object(l.a)(Object(l.a)({},e),{},{key:"rock-".concat(n.guid),data:n}))}))}var fn=i.a.memo((function(e){var n=e.nodes,t=e.materials,i=e.data,a=Object(r.useRef)(),o=he((function(e){return e.clock}));return Object(m.d)((function(){try{var e=Math.cos(o.getElapsedTime()/2*i.speed)*Math.PI;a.current.rotation.set(e,e,e)}catch(n){}})),Object(pe.jsx)("group",{ref:a,position:i.offset,scale:[i.scale,i.scale,i.scale],children:Object(pe.jsx)("group",{position:[-.016298329457640648,-.012838120572268963,.24073271453380585],rotation:[3.0093872578726644,.27444228385461117,-.22745113653772078],scale:[20,20,20],children:Object(pe.jsx)("mesh",{geometry:n.node_id4_Material_52_0.geometry,material:t.Material_52,"material-roughness":1,"material-metalness":1})})})}));function bn(e,n){return{ref:i.a.createRef(),color:e,data:new Array(20).fill().map((function(){return[new d.Vector3,new d.Vector3(2*Math.random()-1,2*Math.random()-1,2*Math.random()-1).normalize().multiplyScalar(.75*n)]}))}}function xn(){return he((function(e){return e.explosions})).map((function(e){var n=e.guid,t=e.offset,r=e.scale;return Object(pe.jsx)(gn,{position:t,scale:.75*r},"explosion-".concat(n))}))}function gn(e){var n=e.position,t=e.scale,i=Object(r.useRef)(),a=he((function(e){return e.mutation})).dummy,o=Object(r.useMemo)((function(){return[bn("white",.8),bn("orange",.6)]}),[]);return Object(r.useEffect)((function(){D(new Audio(z.explosion),.2)}),[]),Object(m.d)((function(){o.forEach((function(e,n){var t=e.data;try{var r=i.current.children[n];t.forEach((function(e,n){var t=Object(Pe.a)(e,2),i=t[0],o=t[1];i.add(o),a.position.copy(i),a.updateMatrix(),r.setMatrixAt(n,a.matrix)})),r.material.opacity-=.025,r.instanceMatrix.needsUpdate=!0}catch(o){}}))})),Object(pe.jsx)("group",{ref:i,position:n,scale:[t,t,t],children:o.map((function(e,n){var t=e.color,r=e.data;return Object(pe.jsxs)("instancedMesh",{args:[null,null,r.length],frustumCulled:!1,children:[Object(pe.jsx)("dodecahedronGeometry",{args:[10,0]}),Object(pe.jsx)("meshBasicMaterial",{color:t,transparent:!0,opacity:1,fog:!1})]},n)}))})}function On(){var e=he((function(e){return e.mutation})),n=e.scale,t=e.track;return Object(pe.jsx)("mesh",{scale:[n,n,n],geometry:t,children:Object(pe.jsx)("meshBasicMaterial",{color:"#9b51e0"})})}var yn=new d.BoxBufferGeometry(1,1,40),vn=new d.Color("red"),wn=new d.Color("orangered"),Mn=new d.Color("#FFF293"),kn=new d.MeshBasicMaterial({color:wn}),Sn=new d.MeshBasicMaterial({color:wn,fog:!1}),An=new d.Vector3,_n=new d.Vector3;function Rn(){var e=Object(m.e)(jn.a,"/rylos-space-adventure/ship.gltf").nodes,n=he((function(e){return e.clock})),t=he((function(e){return e.mutation})),i=t.mouse,a=t.ray,o=he((function(e){return e.lasers})),c=Object(r.useRef)(),s=Object(r.useRef)(),l=Object(r.useRef)(),d=Object(r.useRef)(),u=Object(r.useRef)(),h=Object(r.useRef)();return Object(m.d)((function(){n&&(c.current.position.z=Math.sin(40*n.getElapsedTime())*Math.PI*.2,c.current.rotation.z+=.2*(i.x/500-c.current.rotation.z)),c.current.rotation.x+=.2*(-i.y/1200-c.current.rotation.x),c.current.rotation.y+=.2*(-i.x/1200-c.current.rotation.y),c.current.position.x+=.2*(i.x/10-c.current.position.x),c.current.position.y+=.2*(25+-i.y/10-c.current.position.y),n&&(d.current.scale.x=1+Math.sin(200*n.getElapsedTime()),d.current.scale.y=1+Math.sin(200*n.getElapsedTime())),d.current.scale.x=.01,d.current.scale.y=.01;for(var e=0;e<o.length;e++){s.current.children[e].position.z-=20}l.current.intensity+=.3*((o.length&&Date.now()-o[o.length-1]<100?20:0)-l.current.intensity),c.current.getWorldPosition(An),c.current.getWorldDirection(_n),a.origin.copy(An),a.direction.copy(_n.negate()),Sn.color=t.hits?vn:wn,h.current.visible=!!t.hits})),Object(pe.jsxs)("group",{ref:c,children:[Object(pe.jsxs)("group",{scale:[3.5,3.5,3.5],children:[Object(pe.jsxs)("group",{ref:u,position:[0,0,-300],name:"cross",children:[Object(pe.jsx)("mesh",{renderOrder:1e3,material:Sn,children:Object(pe.jsx)("boxGeometry",{args:[20,2,2]})}),Object(pe.jsx)("mesh",{renderOrder:1e3,material:Sn,children:Object(pe.jsx)("boxGeometry",{args:[2,20,2]})})]}),Object(pe.jsxs)("group",{ref:h,position:[0,0,-300],name:"target",children:[Object(pe.jsx)("mesh",{position:[0,20,0],renderOrder:1e3,material:Sn,children:Object(pe.jsx)("boxGeometry",{args:[40,2,2]})}),Object(pe.jsx)("mesh",{position:[0,-20,0],renderOrder:1e3,material:Sn,children:Object(pe.jsx)("boxGeometry",{args:[40,2,2]})}),Object(pe.jsx)("mesh",{position:[20,0,0],renderOrder:1e3,material:Sn,children:Object(pe.jsx)("boxGeometry",{args:[2,40,2]})}),Object(pe.jsx)("mesh",{position:[-20,0,0],renderOrder:1e3,material:Sn,children:Object(pe.jsx)("boxGeometry",{args:[2,40,2]})})]}),Object(pe.jsx)("pointLight",{ref:l,position:[0,0,-20],distance:100,intensity:0,color:Mn}),Object(pe.jsx)("group",{ref:s,children:o.map((function(e,n){return Object(pe.jsxs)("group",{children:[Object(pe.jsx)("mesh",{position:[-2.8,0,-.8],geometry:yn,material:kn}),Object(pe.jsx)("mesh",{position:[2.8,0,-.8],geometry:yn,material:kn})]},n)}))}),Object(pe.jsxs)("group",{rotation:[Math.PI/2,Math.PI,0],children:[Object(pe.jsx)("mesh",{name:"Renault_(S,_T1)_0",geometry:e["Renault_(S,_T1)_0"].geometry,children:Object(pe.jsx)("meshStandardMaterial",{color:"#16161d"})}),Object(pe.jsx)("mesh",{name:"Renault_(S,_T1)_1",geometry:e["Renault_(S,_T1)_1"].geometry,children:Object(pe.jsx)("meshStandardMaterial",{color:"#4c341c"})}),Object(pe.jsx)("mesh",{name:"Renault_(S,_T1)_2",geometry:e["Renault_(S,_T1)_2"].geometry,children:Object(pe.jsx)("meshStandardMaterial",{color:"#16161d"})}),Object(pe.jsx)("mesh",{name:"Renault_(S,_T1)_3",geometry:e["Renault_(S,_T1)_3"].geometry,children:Object(pe.jsx)("meshBasicMaterial",{color:"lightblue"})}),Object(pe.jsx)("mesh",{name:"Renault_(S,_T1)_4",geometry:e["Renault_(S,_T1)_4"].geometry,children:Object(pe.jsx)("meshBasicMaterial",{color:"orangered"})}),Object(pe.jsx)("mesh",{name:"Renault_(S,_T1)_5",geometry:e["Renault_(S,_T1)_5"].geometry,children:Object(pe.jsx)("meshBasicMaterial",{color:"orangered"})})]})]}),Object(pe.jsx)("pointLight",{ref:d,position:[0,1,30],distance:100,intensity:1,color:"orangered"})]})}var Tn,zn,Cn,Pn=0;function Bn(e){var n=e.children,t=Object(r.useRef)(),i=Object(r.useRef)(),a=he((function(e){return e.mutation})),o=a.fov,c=a.scale,s=a.binormal,l=a.normal,d=a.track,u=a.mouse,h=Object(m.f)().camera;return Object(m.d)((function(){var e=a.t,n=a.position.clone(),r=d.tangents.length,i=e*r,m=Math.floor(i),j=(m+1)%r;s.subVectors(d.binormals[j],d.binormals[m]),s.multiplyScalar(i-m).add(d.binormals[m]);var p=d.parameters.path.getTangentAt(e);Pn+=.05*(Math.max(15,15+-u.y/20)-Pn),l.copy(s).cross(p),n.add(l.clone().multiplyScalar(Pn)),h.position.copy(n);var f=d.parameters.path.getPointAt((e+30/d.parameters.path.getLength())%1).multiplyScalar(c);h.matrix.lookAt(h.position,f,l),h.quaternion.setFromRotationMatrix(h.matrix),h.fov+=.05*((e>.4&&e<.45?120:o)-h.fov),h.updateProjectionMatrix();var b=d.parameters.path.getPointAt((e+1/d.parameters.path.getLength())%1).multiplyScalar(c);t.current.position.copy(b),t.current.quaternion.setFromRotationMatrix(h.matrix)})),Object(pe.jsxs)("group",{ref:t,children:[Object(pe.jsx)("pointLight",{distance:400,position:[0,100,-420],intensity:5,color:"#9b51e0"}),Object(pe.jsx)("group",{ref:i,position:[0,0,-50],children:n})]})}var En,Gn,In=function(){var e=he((function(e){return e.mutation})).fov,n=he((function(e){return e.actions})),t=Object(r.useState)(!0),i=Object(Pe.a)(t,2),a=i[0],o=i[1];return Object(r.useEffect)((function(){return function(){E.pause(),G.pause(),I.pause()}}),[]),Object(pe.jsxs)(Fn,{children:[Object(pe.jsx)(Dn,{style:a?{}:{opacity:0,pointerEvents:"none"},children:Object(pe.jsx)("h1",{children:"Loading..."})}),Object(pe.jsxs)(Ln,{onTouchMove:n.onTouchMove,onPointerUp:n.cancelAutofire,onPointerMove:n.move,onPointerDown:function(e){n.move(e),n.autofire(e)},children:[Object(pe.jsxs)(m.a,{linear:!0,mode:"concurrent",dpr:[1,1.5],gl:{antialias:!1},camera:{position:[0,0,2e3],near:.01,far:1e4,fov:e},onCreated:function(e){var t=e.gl,r=e.camera;n.init(r),t.toneMapping=d.CineonToneMapping,t.setClearColor(new d.Color("#020209")),setTimeout((function(){o(!1)}),500)},children:[Object(pe.jsx)("fog",{attach:"fog",args:["#070710",100,700]}),Object(pe.jsx)("ambientLight",{intensity:.2}),Object(pe.jsx)(tn,{}),Object(pe.jsx)(xn,{}),Object(pe.jsx)(On,{}),Object(pe.jsx)(hn,{}),Object(pe.jsxs)(r.Suspense,{fallback:null,children:[Object(pe.jsx)(pn,{}),Object(pe.jsx)(on,{}),Object(pe.jsx)(Bn,{children:Object(pe.jsx)(Rn,{})})]}),Object(pe.jsx)(mn,{})]}),Object(pe.jsx)(He,{})]})]})},Fn=je.c.div(Tn||(Tn=Object(c.a)(["\n  height: 100%;\n"]))),Dn=je.c.div(zn||(zn=Object(c.a)(["\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0.5);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 999;\n  transition: opacity linear 2s;\n\n  h1 {\n    font-size: 3rem;\n    color: white;\n  }\n"]))),Ln=je.c.div(Cn||(Cn=Object(c.a)(["\n  height: 100%;\n"]))),Nn=function(){var e=he((function(e){return e.actions}));return Object(pe.jsxs)(fe,{children:[Object(pe.jsx)(Me,{words:["Credits"]}),Object(pe.jsxs)(Vn,{children:[Object(pe.jsx)("p",{children:Object(pe.jsx)("a",{href:"https://github.com/jakke-korpelainen/rylos-space-adventure",children:"Source code"})}),Object(pe.jsx)("h2",{children:"Programming"}),Object(pe.jsx)("p",{children:Object(pe.jsx)("a",{href:"https://jakke.fi",children:"Jakke Korpelainen"})}),Object(pe.jsxs)("p",{children:["Based on tremendous work of ",Object(pe.jsx)("a",{href:"https://github.com/drcmda",children:"drcmda"})]}),Object(pe.jsx)("h2",{children:"Assets"}),Object(pe.jsxs)("p",{children:["Ship: ",Object(pe.jsx)("a",{href:"https://sketchfab.com/themuffincoder",children:"TheMuffinCoder"})]}),Object(pe.jsxs)("p",{children:["Rocks: ",Object(pe.jsx)("a",{href:"https://sketchfab.com/dzemalmclaren",children:"Dzemal Semanic"})]}),Object(pe.jsxs)("p",{children:["Crash sound created by ",Object(pe.jsx)("a",{href:"https://freesound.org/s/95078/",children:"sandyrb"})]}),Object(pe.jsx)("h2",{children:"Music"}),Object(pe.jsx)("p",{children:Object(pe.jsx)("a",{href:"https://www.rylosplanet.fi/",children:"Rylos"})})]}),Object(pe.jsx)(xe,{children:Object(pe.jsx)(ge,{onClick:function(){new Audio(we).play(),e.menu.start()},children:"Back"})})]})},Vn=je.c.div(En||(En=Object(c.a)(["\n  width: 100%;\n  margin-top: 2rem;\n\n  a {\n    color: white;\n  }\n"])));function qn(){var e=he((function(e){return e.menu}));return"dead"===e?Object(pe.jsx)(Te,{}):"game"===e?Object(pe.jsx)(In,{}):"credits"===e?Object(pe.jsx)(Nn,{}):Object(pe.jsx)(Ae,{})}Object(je.b)(Gn||(Gn=Object(c.a)(['\n  font-family: "Sedgwick Ave", sans-serif;\n  position: absolute;\n  text-transform: uppercase;\n  font-weight: 900;\n  font-variant-numeric: slashed-zero tabular-nums;\n  line-height: 1em;\n  pointer-events: none;\n  color: #9b51e0;\n'])));o.a.render(Object(pe.jsx)(qn,{}),document.getElementById("root"))}},[[58,1,2]]]);
//# sourceMappingURL=main.708c9782.chunk.js.map