(this["webpackJsonprylos-space-adventure"]=this["webpackJsonprylos-space-adventure"]||[]).push([[0],{47:function(e,t,n){},56:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"crash",(function(){return K})),n.d(r,"soundTrack",(function(){return J})),n.d(r,"zap",(function(){return U})),n.d(r,"engine",(function(){return W})),n.d(r,"engine2",(function(){return X})),n.d(r,"warp",(function(){return Y})),n.d(r,"click",(function(){return Q})),n.d(r,"explosion",(function(){return Z})),n.d(r,"mp3",(function(){return H}));var i=n(4),a=n.n(i),o=n(33),c=n.n(o),s=(n(47),n(8)),l=n(0),d=n(10),u=n(1);function m(e){var t=e.count,n=void 0===t?2e3:t,r=Object(i.useMemo)((function(){for(var e=[],t=0;t<n;t++){var r=4e3,i=2*Math.PI*Math.random(),a=Math.acos(2*Math.random()-1),o=r*Math.cos(i)*Math.sin(a)+(4e3*Math.random()-2e3),c=r*Math.sin(i)*Math.sin(a)+(4e3*Math.random()-2e3),s=r*Math.cos(a)+(2e3*Math.random()-1e3);e.push(o),e.push(c),e.push(s)}return new Float32Array(e)}),[n]);return Object(u.jsxs)("points",{children:[Object(u.jsx)("bufferGeometry",{children:Object(u.jsx)("bufferAttribute",{attachObject:["attributes","position"],count:r.length/3,array:r,itemSize:3})}),Object(u.jsx)("pointsMaterial",{size:15,sizeAttenuation:!0,color:"white",fog:!1})]})}var h=n(11),j=n.p+"static/media/earth.45ed3b77.jpg",p=n.p+"static/media/moon.27019542.png";function b(){var e=Object(i.useRef)(),t=Object(d.e)(l.TextureLoader,[j,p]),n=Object(h.a)(t,2),r=n[0],a=n[1];return Object(u.jsxs)("group",{ref:e,scale:[100,100,100],position:[-500,-500,1e3],children:[Object(u.jsxs)("mesh",{children:[Object(u.jsx)("sphereGeometry",{args:[5,32,32]}),Object(u.jsx)("meshStandardMaterial",{map:r,roughness:1,fog:!1})]}),Object(u.jsxs)("mesh",{position:[5,-5,-5],children:[Object(u.jsx)("sphereGeometry",{args:[.75,32,32]}),Object(u.jsx)("meshStandardMaterial",{roughness:1,map:a,fog:!1})]}),Object(u.jsx)("pointLight",{position:[-5,-5,-5],distance:1e3,intensity:6}),Object(u.jsxs)("mesh",{position:[-30,-10,-60],children:[Object(u.jsx)("sphereGeometry",{args:[4,32,32]}),Object(u.jsx)("meshBasicMaterial",{color:"#FFFF99",fog:!1}),Object(u.jsx)("pointLight",{distance:6100,intensity:50,color:"white"})]})]})}var f=n(41),x=n(19),g=n(36),O=n(42),y=n(43);function v(){var e=Object(i.useRef)(),t=Object(d.f)(),n=t.scene,r=t.gl,a=t.size,o=t.camera;return Object(i.useEffect)((function(){e.current.setSize(a.width,a.height)}),[a]),Object(d.d)((function(){return e.current.render()}),2),Object(u.jsxs)("effectComposer",{ref:e,args:[r],children:[Object(u.jsx)("renderPass",{attachArray:"passes",scene:n,camera:o}),Object(u.jsx)("unrealBloomPass",{attachArray:"passes",args:[void 0,1.8,1,0]})]})}Object(d.c)({EffectComposer:f.a,ShaderPass:x.a,RenderPass:g.a,UnrealBloomPass:O.a,FilmPass:y.a});var w=n(7),M=n(5),k=n(37),S=n(27),_=n.p+"static/media/laser.373d639d.mp3",R=n.p+"static/media/engine.75bbe12e.mp3",A=n.p+"static/media/engine2.87c3c40a.mp3",C=n.p+"static/media/warp.1f9bec85.mp3",T=n.p+"static/media/click.db461987.mp3",z=n.p+"static/media/explosion.615cfd43.mp3",P=n.p+"static/media/crash.184e27d2.wav",B=n.p+"static/media/rylos-freak-lust.d42472e3.png",E=n.p+"static/media/rylos-freak-lust.a13462cf.mp3",F=n.p+"static/media/rylos-misunderstood.d13d9c2d.jpg",G=n.p+"static/media/rylos-misunderstood.2afd4c11.mp3",D=n.p+"static/media/rylos-road.86b24c20.png",I=n.p+"static/media/rylos-road.138ea8a0.mp3",L=n.p+"static/media/rylos-climate.f7a8098a.jpg",V=n.p+"static/media/rylos-climate.c3742818.mp3",N=n.p+"static/media/rylos-black-liquid.c5d1d0a2.jpg",q=n.p+"static/media/rylos-black-liquid.130be6d9.mp3",H={explosion:z},J=[{songName:"Rylos - Freak Lust",songCover:B,songSrc:E},{songName:"Rylos - Misunderstood",songCover:F,songSrc:G},{songName:"Rylos - Road",songCover:D,songSrc:I},{songName:"Rylos - Climate",songCover:L,songSrc:V},{songName:"Rylos - Black Liquid",songCover:N,songSrc:q}],K=new Audio(P),U=new Audio(_),W=new Audio(R),X=new Audio(A),Y=new Audio(C),Q=new Audio(T),Z=new Audio(z),$=1,ee=Object(S.a)((function(e,t){var n=new k.a.GrannyKnot,r=new l.TubeBufferGeometry(n,250,.2,10,!0),i=void 0,a=void 0,o=new l.Box3;return{currentTrackIndex:0,menu:void 0,camera:void 0,lastPoints:0,points:0,health:100,lasers:[],explosions:[],rocks:te(100,r,150,8,(function(){return 1+2.5*Math.random()})),immunity:!0,mutation:{t:0,position:new l.Vector3,startTime:Date.now(),track:r,scale:15,fov:70,hits:!1,particles:te(1500,r,100,1,(function(){return.5+.8*Math.random()})),looptime:4e4,binormal:new l.Vector3,normal:new l.Vector3,clock:new l.Clock(!1),mouse:new l.Vector2(-250,50),dummy:new l.Object3D,ray:new l.Ray,box:new l.Box3},actions:{menu:function(){e({menu:null})},start:function(){e({menu:"game"})},credits:function(){e({menu:"credits"})},init:function(n){var i=t(),o=i.mutation,c=i.actions;e({camera:n}),o.clock.start(),re(W,1,!0),re(X,.3,!0),Object(d.b)((function(){t().immunity&&setTimeout((function(){return e({immunity:!1})}),5e3)})),Object(d.b)((function(){var n=t(),i=n.rocks,s=n.immunity,l=Date.now(),d=l-o.startTime,u=Math.min(d/15e3,30),m=Math.max(1e3*(40-u),1e4);console.log(u,m);var h=o.t=(l-o.startTime)%m/m;o.position=r.parameters.path.getPointAt(h),o.position.multiplyScalar(o.scale);var j=!1;h>.3&&h<.4?j||(j=!0,re(Y)):h>.5&&(j=!1);var p=i.filter(c.test),b=o.hits;o.hits=p.length,0===b&&o.hits&&re(Q);var f=t().lasers;if(o.hits&&f.length&&l-f[f.length-1]<100){var x=p.map((function(e){return Object(M.a)({time:Date.now()},e)}));e((function(e){return{explosions:[].concat(Object(w.a)(e.explosions),Object(w.a)(x))}})),clearTimeout(a),a=setTimeout((function(){return e((function(e){return{explosions:e.explosions.filter((function(e){var t=e.time;return Date.now()-t<=1e3}))}}))}),1e3);var g=te(o.hits,r,150,8,(function(){return 1+2.5*Math.random()}));e((function(e){return{points:e.points+100*p.length,rocks:[].concat(Object(w.a)(g),Object(w.a)(e.rocks.filter((function(e){return!p.find((function(t){return t.guid===e.guid}))}))))}}))}var O=p.filter((function(e){return e.distance<15}));if(O.length>0){re(K,1,!1);var y=O.map((function(e){return Object(M.a)({time:Date.now()},e)}));e((function(e){return{explosions:[].concat(Object(w.a)(e.explosions),Object(w.a)(y))}})),clearTimeout(a),a=setTimeout((function(){return e((function(e){return{explosions:e.explosions.filter((function(e){var t=e.time;return Date.now()-t<=1e3}))}}))}),1e3);var v=te(o.hits,r,150,8,(function(){return 1+2.5*Math.random()}));e((function(e){return{rocks:[].concat(Object(w.a)(v),Object(w.a)(e.rocks.filter((function(e){return!O.find((function(t){return t.guid===e.guid}))}))))}})),!1===s&&e((function(e){return{health:Math.max(0,e.health-20)}}))}if(t().health<=0){var k=t().points;e((function(){return{menu:"dead",lastPoints:k}}))}}))},shoot:function(){e((function(e){return{lasers:[].concat(Object(w.a)(e.lasers),[Date.now()])}})),clearTimeout(i),i=setTimeout((function(){return e((function(e){return{lasers:e.lasers.filter((function(e){return Date.now()-e<=1e3}))}}))}),1e3),re(U,.25)},updateMouse:function(e){var n=e.clientX,r=e.clientY;t().mutation.mouse.set(n-window.innerWidth/2,r-window.innerHeight/2)},test:function(e){o.min.copy(e.offset),o.max.copy(e.offset),o.expandByScalar(e.size*e.scale),e.hit.set(1e4,1e4,1e4);var n=t().mutation.ray.intersectBox(o,e.hit);return e.distance=t().mutation.ray.origin.distanceTo(e.hit),n}}}}));function te(e,t,n,r,i){return new Array(e).fill().map((function(){var e=Math.random(),a=t.parameters.path.getPointAt(e);a.multiplyScalar(15);var o=a.clone().add(new l.Vector3(-n+Math.random()*n*2,-n+Math.random()*n*2,-n+Math.random()*n*2)),c=.1+Math.random();return{guid:$++,scale:"function"===typeof i?i():i,size:r,offset:o,pos:a,speed:c,radius:n,t:e,hit:new l.Vector3,distance:1e3}}))}function ne(){ee.setState({menu:"game",health:100,immunity:!0,points:0})}function re(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e.currentTime=0,e.volume=t,e.loop=n,e.play()}var ie=ee;function ae(){var e=Object(i.useRef)(),t=ie((function(e){return e.mutation})),n=t.particles,r=t.dummy;return Object(i.useEffect)((function(){n.forEach((function(t,n){var i=t.offset,a=t.scale;r.position.copy(i),r.scale.set(a,a,a),r.rotation.set(Math.sin(Math.random())*Math.PI,Math.sin(Math.random())*Math.PI,Math.cos(Math.random())*Math.PI),r.updateMatrix(),e.current.setMatrixAt(n,r.matrix)})),e.current.instanceMatrix.needsUpdate=!0}),[]),Object(u.jsxs)("instancedMesh",{ref:e,args:[null,null,n.length],frustumCulled:!1,children:[Object(u.jsx)("coneGeometry",{args:[2,2,3]}),Object(u.jsx)("meshStandardMaterial",{color:"#606060"})]})}var oe=n(28);function ce(){var e=Object(d.e)(oe.a,"/rylos-space-adventure/rock.gltf");return ie((function(e){return e.rocks})).map((function(t){return Object(i.createElement)(se,Object(M.a)(Object(M.a)({},e),{},{key:t.guid,data:t}))}))}var se=a.a.memo((function(e){var t=e.nodes,n=e.materials,r=e.data,a=Object(i.useRef)(),o=ie((function(e){return e.mutation})).clock;return Object(d.d)((function(){try{var e=Math.cos(o.getElapsedTime()/2*r.speed)*Math.PI;a.current.rotation.set(e,e,e)}catch(t){}})),Object(u.jsx)("group",{ref:a,position:r.offset,scale:[r.scale,r.scale,r.scale],children:Object(u.jsx)("group",{position:[-.016298329457640648,-.012838120572268963,.24073271453380585],rotation:[3.0093872578726644,.27444228385461117,-.22745113653772078],scale:[20,20,20],children:Object(u.jsx)("mesh",{geometry:t.node_id4_Material_52_0.geometry,material:n.Material_52,"material-roughness":1,"material-metalness":1})})})}));function le(e,t){return{ref:a.a.createRef(),color:e,data:new Array(20).fill().map((function(){return[new l.Vector3,new l.Vector3(2*Math.random()-1,2*Math.random()-1,2*Math.random()-1).normalize().multiplyScalar(.75*t)]}))}}function de(){return ie((function(e){return e.explosions})).map((function(e){var t=e.guid,n=e.offset,r=e.scale;return Object(u.jsx)(ue,{position:n,scale:.75*r},t)}))}function ue(e){var t=e.position,n=e.scale,a=Object(i.useRef)(),o=ie((function(e){return e.mutation})).dummy,c=Object(i.useMemo)((function(){return[le("white",.8),le("orange",.6)]}),[]);return Object(i.useEffect)((function(){re(new Audio(r.mp3.explosion),.2)}),[]),Object(d.d)((function(){c.forEach((function(e,t){var n=e.data;try{var r=a.current.children[t];n.forEach((function(e,t){var n=Object(h.a)(e,2),i=n[0],a=n[1];i.add(a),o.position.copy(i),o.updateMatrix(),r.setMatrixAt(t,o.matrix)})),r.material.opacity-=.025,r.instanceMatrix.needsUpdate=!0}catch(i){}}))})),Object(u.jsx)("group",{ref:a,position:t,scale:[n,n,n],children:c.map((function(e,t){var n=e.color,r=e.data;return Object(u.jsxs)("instancedMesh",{args:[null,null,r.length],frustumCulled:!1,children:[Object(u.jsx)("dodecahedronGeometry",{args:[10,0]}),Object(u.jsx)("meshBasicMaterial",{color:n,transparent:!0,opacity:1,fog:!1})]},t)}))})}function me(){var e=ie((function(e){return e.mutation})),t=e.scale,n=e.track;return Object(u.jsx)("mesh",{scale:[t,t,t],geometry:n,children:Object(u.jsx)("meshBasicMaterial",{color:"#9b51e0"})})}var he=new l.BoxBufferGeometry(1,1,40),je=new l.Color("red"),pe=new l.Color("orangered"),be=new l.Color("#FFF293"),fe=new l.MeshBasicMaterial({color:pe}),xe=new l.MeshBasicMaterial({color:pe,fog:!1}),ge=new l.Vector3,Oe=new l.Vector3;function ye(){var e=Object(d.e)(oe.a,"/rylos-space-adventure/ship.gltf").nodes,t=ie((function(e){return e.mutation})),n=t.clock,r=t.mouse,a=t.ray,o=ie((function(e){return e.lasers})),c=Object(i.useRef)(),s=Object(i.useRef)(),l=Object(i.useRef)(),m=Object(i.useRef)(),h=Object(i.useRef)(),j=Object(i.useRef)();return Object(d.d)((function(){c.current.position.z=Math.sin(40*n.getElapsedTime())*Math.PI*.2,c.current.rotation.z+=.2*(r.x/500-c.current.rotation.z),c.current.rotation.x+=.2*(-r.y/1200-c.current.rotation.x),c.current.rotation.y+=.2*(-r.x/1200-c.current.rotation.y),c.current.position.x+=.2*(r.x/10-c.current.position.x),c.current.position.y+=.2*(25+-r.y/10-c.current.position.y),m.current.scale.x=1+Math.sin(200*n.getElapsedTime()),m.current.scale.y=1+Math.sin(200*n.getElapsedTime()),m.current.scale.x=.01,m.current.scale.y=.01;for(var e=0;e<o.length;e++){s.current.children[e].position.z-=20}l.current.intensity+=.3*((o.length&&Date.now()-o[o.length-1]<100?20:0)-l.current.intensity),c.current.getWorldPosition(ge),c.current.getWorldDirection(Oe),a.origin.copy(ge),a.direction.copy(Oe.negate()),xe.color=t.hits?je:pe,j.current.visible=!!t.hits})),Object(u.jsxs)("group",{ref:c,children:[Object(u.jsxs)("group",{scale:[3.5,3.5,3.5],children:[Object(u.jsxs)("group",{ref:h,position:[0,0,-300],name:"cross",children:[Object(u.jsx)("mesh",{renderOrder:1e3,material:xe,children:Object(u.jsx)("boxGeometry",{args:[20,2,2]})}),Object(u.jsx)("mesh",{renderOrder:1e3,material:xe,children:Object(u.jsx)("boxGeometry",{args:[2,20,2]})})]}),Object(u.jsxs)("group",{ref:j,position:[0,0,-300],name:"target",children:[Object(u.jsx)("mesh",{position:[0,20,0],renderOrder:1e3,material:xe,children:Object(u.jsx)("boxGeometry",{args:[40,2,2]})}),Object(u.jsx)("mesh",{position:[0,-20,0],renderOrder:1e3,material:xe,children:Object(u.jsx)("boxGeometry",{args:[40,2,2]})}),Object(u.jsx)("mesh",{position:[20,0,0],renderOrder:1e3,material:xe,children:Object(u.jsx)("boxGeometry",{args:[2,40,2]})}),Object(u.jsx)("mesh",{position:[-20,0,0],renderOrder:1e3,material:xe,children:Object(u.jsx)("boxGeometry",{args:[2,40,2]})})]}),Object(u.jsx)("pointLight",{ref:l,position:[0,0,-20],distance:100,intensity:0,color:be}),Object(u.jsx)("group",{ref:s,children:o.map((function(e,t){return Object(u.jsxs)("group",{children:[Object(u.jsx)("mesh",{position:[-2.8,0,-.8],geometry:he,material:fe}),Object(u.jsx)("mesh",{position:[2.8,0,-.8],geometry:he,material:fe})]},t)}))}),Object(u.jsxs)("group",{rotation:[Math.PI/2,Math.PI,0],children:[Object(u.jsx)("mesh",{name:"Renault_(S,_T1)_0",geometry:e["Renault_(S,_T1)_0"].geometry,children:Object(u.jsx)("meshStandardMaterial",{color:"#070707"})}),Object(u.jsx)("mesh",{name:"Renault_(S,_T1)_1",geometry:e["Renault_(S,_T1)_1"].geometry,children:Object(u.jsx)("meshStandardMaterial",{color:"black"})}),Object(u.jsx)("mesh",{name:"Renault_(S,_T1)_2",geometry:e["Renault_(S,_T1)_2"].geometry,children:Object(u.jsx)("meshStandardMaterial",{color:"#070707"})}),Object(u.jsx)("mesh",{name:"Renault_(S,_T1)_3",geometry:e["Renault_(S,_T1)_3"].geometry,children:Object(u.jsx)("meshBasicMaterial",{color:"lightblue"})}),Object(u.jsx)("mesh",{name:"Renault_(S,_T1)_4",geometry:e["Renault_(S,_T1)_4"].geometry,children:Object(u.jsx)("meshBasicMaterial",{color:"white"})}),Object(u.jsx)("mesh",{name:"Renault_(S,_T1)_5",geometry:e["Renault_(S,_T1)_5"].geometry,children:Object(u.jsx)("meshBasicMaterial",{color:"teal"})})]})]}),Object(u.jsx)("pointLight",{ref:m,position:[0,1,30],distance:100,intensity:2.5,color:"white"})]})}var ve=0;function we(e){var t=e.children,n=Object(i.useRef)(),r=Object(i.useRef)(),a=ie((function(e){return e.mutation})),o=a.fov,c=a.scale,s=a.binormal,l=a.normal,m=a.track,h=a.mouse,j=Object(d.f)().camera;return Object(d.d)((function(){var e=a.t,t=a.position.clone(),r=m.tangents.length,i=e*r,d=Math.floor(i),u=(d+1)%r;s.subVectors(m.binormals[u],m.binormals[d]),s.multiplyScalar(i-d).add(m.binormals[d]);var p=m.parameters.path.getTangentAt(e);ve+=.05*(Math.max(15,15+-h.y/20)-ve),l.copy(s).cross(p),t.add(l.clone().multiplyScalar(ve)),j.position.copy(t);var b=m.parameters.path.getPointAt((e+30/m.parameters.path.getLength())%1).multiplyScalar(c);j.matrix.lookAt(j.position,b,l),j.quaternion.setFromRotationMatrix(j.matrix),j.fov+=.05*((e>.4&&e<.45?120:o)-j.fov),j.updateProjectionMatrix();var f=m.parameters.path.getPointAt((e+1/m.parameters.path.getLength())%1).multiplyScalar(c);n.current.position.copy(f),n.current.quaternion.setFromRotationMatrix(j.matrix)})),Object(u.jsxs)("group",{ref:n,children:[Object(u.jsx)("pointLight",{distance:400,position:[0,100,-420],intensity:5,color:"#9b51e0"}),Object(u.jsx)("group",{ref:r,position:[0,0,-50],children:t})]})}var Me,ke,Se,_e,Re,Ae,Ce,Te,ze,Pe,Be,Ee,Fe,Ge,De,Ie=n(9),Le=n.p+"static/media/rewind.4cd5b907.svg",Ve=n.p+"static/media/play.496c51e4.svg",Ne=function(){var e=Math.floor(Math.random()*(J.length-1-0+1)+0),t=Object(i.useState)(e),n=Object(h.a)(t,2),r=n[0],a=n[1],o=Object(i.useState)(new Audio(J[r].songSrc))[0],c=J[r];Object(i.useEffect)((function(){return o.loop=!0,o.play(),function(){o.pause(),o.removeAttribute("src"),o.load()}}),[]),Object(i.useEffect)((function(){o.pause(),o.setAttribute("src",J[r].songSrc),o.load(),o.play()}),[r]);return Object(u.jsxs)(qe,{children:[Object(u.jsx)(He,{children:Object(u.jsx)("img",{src:c.songCover})}),Object(u.jsxs)(Je,{children:[Object(u.jsx)(Ke,{children:Object(u.jsx)(Ue,{children:Object(u.jsx)("span",{children:c?c.songName:"- Not playing -"})})}),Object(u.jsxs)(We,{children:[Object(u.jsx)("button",{children:Object(u.jsx)("img",{onClick:function(){var e=Math.max(r-1,0);a(r===e?J.length-1:e)},src:Le})}),Object(u.jsx)("button",{onClick:function(){o.duration>0&&!o.paused?o.pause():o.play()},children:Object(u.jsx)("img",{src:Ve})}),Object(u.jsx)("button",{children:Object(u.jsx)("img",{onClick:function(){var e=Math.min(r+1,J.length-1);a(e===r?0:e)},src:Le})})]})]})]})},qe=Ie.c.div(Me||(Me=Object(s.a)(["\n  max-width: 300px;\n  min-width: 15vw;\n  background: linear-gradient(#4f0158, #000000);\n  flex-direction: row;\n  display: flex;\n  padding: 10px;\n  width: 100%;\n  overflow: hidden;\n  box-shadow: 0 15px 15px rgba(0, 0, 0, 0.7);\n  border-radius: 4px;\n\n  @media only screen and (max-width: 900px) {\n    max-width: 100%;\n  }\n"]))),He=Ie.c.div(ke||(ke=Object(s.a)(["\n  border: 2px solid orangered;\n  overflow: hidden;\n  height: 90px;\n  width: 90px;\n  margin-right: 1rem;\n  img {\n    height: 100%;\n  }\n"]))),Je=Ie.c.div(Se||(Se=Object(s.a)(["\n  flex-grow: 1;\n"]))),Ke=Ie.c.div(_e||(_e=Object(s.a)(["\n  display: flex;\n  flex-direction: row;\n  width: 100%;\n  margin-bottom: 0.5rem;\n"]))),Ue=Ie.c.div(Re||(Re=Object(s.a)(["\n  height: 100%;\n  width: 100%;\n  border-radius: 2px;\n  padding: 0.7rem 0.5rem;\n  overflow: hidden;\n  background: black;\n\n  span {\n    color: white;\n    display: inline-block;\n    animation: scroll-left 20s linear infinite;\n  }\n"]))),We=Ie.c.div(Ae||(Ae=Object(s.a)(["\n  button {\n    border-radius: 1rem;\n    pointer-events: all;\n    cursor: pointer;\n    background: transparent;\n    width: 3.5rem;\n    margin-right: 0.5rem;\n    height: 2.5rem;\n    border-color: orangered;\n  }\n\n  button:last-of-type img {\n    width: 100%;\n    transform: scaleX(-1);\n  }\n\n  button img {\n    width: 100%;\n    height: 100%;\n  }\n"]))),Xe=n.p+"static/media/cardiogram.dbd31cd6.png",Ye=n.p+"static/media/heartbeat.7f66a5e2.wav",Qe=n.p+"static/media/garbage.520ba2b9.svg";function Ze(){var e=ie((function(e){return e.points})),t=ie((function(e){return e.immunity})),n=ie((function(e){return e.health})),r=ie((function(e){return e.actions.toggleSound})),a=Object(i.useMemo)((function(){return e>=1e3?(e/1e3).toFixed(1)+"K":e}),[e]),o=n<50,c=o?"red":"green";return Object(i.useEffect)((function(){var e=new Audio;return e.volume=1,e.loop=!0,o?(e.setAttribute("src",Ye),e.load(),e.play()):(e.pause(),e.removeAttribute("src"),e.load()),function(){e.pause(),e.removeAttribute("src"),e.load()}}),[o]),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(st,{onClick:function(){return r()},children:Object(u.jsxs)(ot,{children:[Object(u.jsx)("img",{className:o?"pulse":"",src:Xe}),Object(u.jsx)(ct,{style:{backgroundColor:t?"blue":c,width:"".concat(t?100:n,"%")},children:t?"Invulnerable":"".concat(n,"%")})]})}),Object(u.jsx)(lt,{children:Object(u.jsx)("a",{target:"_blank",href:"https://www.rylosplanet.fi/",children:"Rylos Planet"})}),Object(u.jsx)(dt,{children:Object(u.jsxs)(at,{children:[Object(u.jsx)("img",{src:Qe}),Object(u.jsx)("h1",{children:a})]})}),Object(u.jsx)(mt,{}),Object(u.jsx)(ut,{children:Object(u.jsx)(Ne,{})})]})}var $e,et,tt,nt,rt,it=Object(Ie.b)(Ce||(Ce=Object(s.a)(["\n  font-family: 'Sedgwick Ave', sans-serif;\n  position: absolute;\n  text-transform: uppercase;\n  font-weight: 900;\n  font-variant-numeric: slashed-zero tabular-nums;\n  line-height: 1em;\n  pointer-events: none;\n  color: #9b51e0;\n"]))),at=Ie.c.div(Te||(Te=Object(s.a)(["\n  display: flex;\n  flex-direction: row;\n\n  img {\n    width: 50px;\n    margin-right: 2rem;\n  }\n"]))),ot=Ie.c.div(ze||(ze=Object(s.a)(["\n  border-radius: 0.5rem;\n  display: flex;\n  flex-direction: row;\n  background: #333;\n  border: 2px solid #666;\n  min-width: 10vw;\n  margin-top: 1rem;\n  padding: 0.5rem;\n  max-width: 150px;\n\n  img {\n    max-width: 45px;\n    margin-right: 1rem;\n  }\n"]))),ct=Ie.c.div(Pe||(Pe=Object(s.a)(["\n  font-size: 1.5rem;\n  padding: 0.5rem 0.5rem;\n  background: green;\n  color: white;\n"]))),st=Ie.c.div(Be||(Be=Object(s.a)(["\n  ","\n  top: 40px;\n  left: 50px;\n  font-size: 2em;\n  transform: skew(5deg, 5deg);\n  pointer-events: all;\n  cursor: pointer;\n  @media only screen and (max-width: 900px) {\n    left: 20px;\n    top: 20px;\n    transform: none;\n    font-size: 1.5em;\n  }\n"])),it),lt=Ie.c.div(Ee||(Ee=Object(s.a)(["\n  ","\n  text-align: right;\n  top: 40px;\n  right: 50px;\n  font-size: 2em;\n  transform: skew(-5deg, -5deg);\n  pointer-events: all;\n  cursor: pointer;\n  & > a {\n    color: #9b51e0;\n    text-decoration: none;\n  }\n  @media only screen and (max-width: 900px) {\n    font-size: 1.5em;\n  }\n"])),it),dt=Ie.c.div(Fe||(Fe=Object(s.a)(["\n  ","\n  bottom: 50px;\n  left: 50px;\n  transform: skew(-5deg, -5deg);\n  text-shadow: 1px 1px 1px rgba(0, 0, 0.5);\n\n  h1 {\n    margin: 0;\n    font-size: 4em;\n    line-height: 1em;\n  }\n  @media only screen and (max-width: 900px) {\n    bottom: 150px;\n    h1 {\n      font-size: 3em !important;\n    }\n  }\n"])),it),ut=Ie.c.div(Ge||(Ge=Object(s.a)(["\n  ","\n  bottom: 50px;\n  right: 50px;\n  transform: skew(5deg, 5deg);\n\n  @media only screen and (max-width: 900px) {\n    transform: none;\n    bottom: 0;\n    right: 0;\n    width: 100%;\n  }\n"])),it),mt=Object(Ie.a)(De||(De=Object(s.a)(["\n  * {\n    box-sizing: border-box;\n  }\n\n  html,\n  body,\n  #root {\n    width: 100%;\n    height: 100%;\n    margin: 0;\n    padding: 0;\n    user-select: none;\n    overflow: hidden;\n  }\n\n  #root {\n    overflow: auto;\n    padding: 0px;\n  }\n\n  body {\n    position: fixed;\n    overflow: hidden;\n    overscroll-behavior-y: none;\n    font-family: -apple-system, BlinkMacSystemFont, avenir next, avenir, helvetica neue, helvetica, ubuntu, roboto, noto, segoe ui, arial, sans-serif;\n    color: black;\n    background: white;\n  }\n"]))),ht=n.p+"static/media/rylos-logo.46173d62.png",jt=n.p+"static/media/game-over.dea041e4.wav";function pt(){var e=ie((function(e){return e.menu}));return"dead"===e?Object(u.jsx)(ft,{}):"game"===e?Object(u.jsx)(gt,{}):"credits"===e?Object(u.jsx)(xt,{}):Object(u.jsx)(Ot,{})}var bt=function(e){return Object(u.jsx)(wt,{children:Object(u.jsx)(Mt,{children:e.children})})},ft=function(){var e=ie((function(e){return e.lastPoints}));return Object(i.useEffect)((function(){var e=new Audio;return e.setAttribute("src",jt),e.play(),function(){e.pause(),e.removeAttribute("src"),e.load()}})),Object(u.jsxs)(bt,{children:[Object(u.jsx)("h1",{children:"Game Over"}),Object(u.jsxs)("p",{children:["Score: ",e]}),Object(u.jsx)(yt,{onClick:ne,children:"Restart"})]})},xt=function(){var e=ie((function(e){return e.actions}));return Object(u.jsxs)(bt,{children:[Object(u.jsx)(yt,{onClick:function(){return e.menu()},children:"Back"}),Object(u.jsxs)(vt,{children:[Object(u.jsx)("h2",{children:"Credits"}),Object(u.jsx)("p",{children:Object(u.jsx)("a",{href:"https://github.com/jakke-korpelainen/rylos-space-adventure",children:"Source code"})}),Object(u.jsx)("h3",{children:"Programming"}),Object(u.jsx)("p",{children:Object(u.jsx)("a",{href:"https://jakke.fi",children:"Jakke Korpelainen"})}),Object(u.jsxs)("p",{children:["Based on tremendous work of ",Object(u.jsx)("a",{href:"https://github.com/drcmda",children:"drcmda"})]}),Object(u.jsx)("h3",{children:"Assets"}),Object(u.jsx)("p",{children:Object(u.jsx)("a",{href:"https://www.flaticon.com/free-icons/heart",title:"heart icons",children:"Heart icons created by Freepik - Flaticon"})}),Object(u.jsxs)("p",{children:["Ship: ",Object(u.jsx)("a",{href:"https://sketchfab.com/themuffincoder",children:"TheMuffinCoder"})]}),Object(u.jsxs)("p",{children:["Rocks: ",Object(u.jsx)("a",{href:"https://sketchfab.com/dzemalmclaren",children:"Dzemal Semanic"})]}),Object(u.jsxs)("p",{children:["Crash sound created by ",Object(u.jsx)("a",{href:"https://freesound.org/s/95078/",children:"sandyrb"})]}),Object(u.jsx)("h3",{children:"Music"}),Object(u.jsx)("p",{children:Object(u.jsx)("a",{href:"https://www.rylosplanet.fi/",children:"Rylos"})})]})]})},gt=function(){var e=ie((function(e){return e.mutation})).fov,t=ie((function(e){return e.actions}));return Object(u.jsxs)("div",{onPointerMove:t.updateMouse,onClick:t.shoot,children:[Object(u.jsxs)(d.a,{linear:!0,mode:"concurrent",dpr:[1,1.5],gl:{antialias:!1},camera:{position:[0,0,2e3],near:.01,far:1e4,fov:e},onCreated:function(e){var n=e.gl,r=e.camera;t.init(r),n.toneMapping=l.CineonToneMapping,n.setClearColor(new l.Color("#020209"))},children:[Object(u.jsx)("fog",{attach:"fog",args:["#070710",100,700]}),Object(u.jsx)("ambientLight",{intensity:.25}),Object(u.jsx)(m,{}),Object(u.jsx)(de,{}),Object(u.jsx)(me,{}),Object(u.jsx)(ae,{}),Object(u.jsxs)(i.Suspense,{fallback:null,children:[Object(u.jsx)(ce,{}),Object(u.jsx)(b,{}),Object(u.jsx)(we,{children:Object(u.jsx)(ye,{})})]}),Object(u.jsx)(v,{})]}),Object(u.jsx)(Ze,{})]})},Ot=function(){var e=ie((function(e){return e.actions}));return Object(u.jsxs)(bt,{children:[Object(u.jsx)("img",{src:ht}),Object(u.jsx)("h1",{children:"Space Adventure"}),Object(u.jsx)("p",{children:"Humankind has been dumping trash in to the space for ages. Now the trash are returning to the earth. Only Ned the Carrot and his loyal spaceship can stop the earth from being trashed."}),Object(u.jsx)(yt,{onClick:function(){e.start()},children:"Play"}),Object(u.jsx)(yt,{onClick:function(){e.credits()},children:"Credits"})]})},yt=Ie.c.button($e||($e=Object(s.a)(["\n  border: 3px solid orangered;\n  pointer-events: all;\n  background: linear-gradient(#4f0158, #000000);\n  cursor: pointer;\n  color: white;\n  font-weight: 900;\n  text-transform: uppercase;\n  font-size: 3rem;\n  font-family: 'Sedgwick Ave';\n  min-width: 300px;\n  padding: 0 2rem;\n  margin-top: 1rem;\n\n  @media only screen and (max-width: 900px) {\n    font-size: 2rem;\n  }\n"]))),vt=Ie.c.div(et||(et=Object(s.a)(["\n  width: 100%;\n  margin-top: 2rem;\n\n  a {\n    color: white;\n  }\n"]))),wt=Ie.c.div(tt||(tt=Object(s.a)(["\n  background-repeat: no-repeat;\n  background-position: center 10%;\n  background-color: #16161d;\n  display: flex;\n  width: 100%;\n  height: 100%;\n  align-items: center;\n  justify-content: center;\n  color: white;\n\n  h1 {\n    font-size: 6rem;\n    font-family: 'Sedgwick Ave';\n    text-transform: uppercase;\n    margin-bottom: 0;\n    margin-top: 0;\n    text-align: center;\n  }\n\n  h1 + p {\n    font-size: 2rem;\n    width: 1200px;\n    max-width: 100%;\n    text-align: center;\n    margin-bottom: 5rem;\n    margin-top: 0;\n  }\n\n  @media only screen and (max-width: 900px) {\n    h1 {\n      font-size: 2.5rem;\n    }\n    h1 + p {\n      font-size: 1.2rem;\n    }\n  }\n"]))),Mt=Ie.c.div(nt||(nt=Object(s.a)(["\n  height: 100%;\n  min-width: 80vw;\n  max-width: 90vw;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  img {\n    max-width: 100%;\n  }\n"])));Object(Ie.b)(rt||(rt=Object(s.a)(["\n  font-family: 'Sedgwick Ave', sans-serif;\n  position: absolute;\n  text-transform: uppercase;\n  font-weight: 900;\n  font-variant-numeric: slashed-zero tabular-nums;\n  line-height: 1em;\n  pointer-events: none;\n  color: #9b51e0;\n"])));c.a.render(Object(u.jsx)(pt,{}),document.getElementById("root"))}},[[56,1,2]]]);
//# sourceMappingURL=main.cee0cc04.chunk.js.map