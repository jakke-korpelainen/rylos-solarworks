{"version":3,"sources":["audio/laser.mp3","audio/engine.mp3","audio/engine2.mp3","audio/warp.mp3","audio/click.mp3","audio/explosion.mp3","audio/crash.wav","images/rylos-freak-lust.png","audio/rylos-freak-lust.mp3","images/rylos-misunderstood.jpg","audio/rylos-misunderstood.mp3","images/rylos-road.png","audio/rylos-road.mp3","images/rylos-climate.jpg","audio/rylos-climate.mp3","images/rylos-black-liquid.jpg","audio/rylos-black-liquid.mp3","audio/index.js","store.js","Menu/Menu.js","images/rylos-logo.png","audio/start.ogg","audio/select.wav","Wave.js","Menu/MenuStart.js","audio/game-over.wav","images/award.svg","Menu/MenuDead.js","images/rewind.svg","images/play.svg","Menu/Radio.js","images/cardiogram.svg","audio/heartbeat.wav","images/garbage.svg","Menu/Hud.js","3d/Stars.js","images/earth.jpg","images/moon.png","3d/Planets.js","3d/Effects.js","3d/Particles.js","3d/Rocks.js","3d/Explosions.js","3d/Track.js","3d/Ship.js","3d/Rig.js","Menu/MenuGame.js","Menu/MenuCredits.js","App.js","index.js"],"names":["mp3","explosion","explosionAudio","soundTrack","songName","songCover","rylosFreakLustCover","songSrc","rylosFreakLustSong","rylosMisunderstoodCover","rylosMisunderstoodSong","rylosRoadCover","rylosRoadSong","rylosClimateCover","rylosClimateSong","rylosBlackLiquidCover","rylosBlackLiquidSong","crash","Audio","crashAudio","zap","zapAudio","engine","engineAudio","engine2","engine2Audio","warp","warpAudio","click","clickAudio","playAudio","audio","volume","loop","currentTime","play","guid","randomData","count","track","radius","size","scale","Array","fill","map","t","Math","random","pos","parameters","path","getPointAt","multiplyScalar","offset","clone","add","THREE","speed","hit","distance","useStore","create","set","get","spline","Curves","GrannyKnot","cancelLaserTO","undefined","cancelExplosionTO","shootingTO","box","currentTrackIndex","menu","camera","lastPoints","points","highScore","health","lasers","explosions","rocks","immunity","clock","mutation","position","startTime","fov","hits","particles","looptime","binormal","normal","mouse","dummy","ray","actions","start","game","credits","reset","init","sessionHighscore","localStorage","getItem","parseInt","Date","now","addEffect","setTimeout","time","difficultyModifier","getElapsedTime","max","warping","r","filter","test","previous","length","updates","data","state","clearTimeout","newRocks","rock","find","rockCollisions","setItem","autofire","throttle","e","button","clearInterval","fire","setInterval","cancelAutofire","onTouchMove","touches","clientX","clientY","move","x","y","window","innerWidth","innerHeight","min","copy","expandByScalar","result","intersectBox","origin","distanceTo","Menu","props","MenuWrapper","MenuContent","children","styled","div","MenuActions","MenuActionItem","Wave","WaveWrapper","words","word","WaveWord","char","index","h1","MenuStart","id","src","rylosLogo","onClick","startAudio","selectAudio","MenuDead","autoPlay","gameOver","Scores","Highscore","highscoreIcon","Radio","initialSongIndex","floor","useState","currentSoundtrackIndex","setCurrentSoundtrackIndex","audioElement","currentTrack","useEffect","pause","removeAttribute","load","setAttribute","RadioWrapper","RadioCover","RadioControls","RadioTrack","RadioTrackDetails","className","RadioActions","prevIndex","rewindIcon","duration","paused","playIcon","nextIndex","Hud","toggle","toggleSound","score","useMemo","toFixed","lowHealth","healthColor","heartbeat","UpperLeft","HealthContainer","heartIcon","style","flexGrow","marginRight","HealthValue","backgroundColor","width","UpperRight","target","href","LowerLeft","Score","garbage","Global","LowerRight","base","css","createGlobalStyle","Stars","positions","i","theta","PI","phi","acos","cos","sin","z","push","Float32Array","attachObject","array","itemSize","sizeAttenuation","color","fog","Planets","ref","useRef","useLoader","earthImg","moonImg","texture","moon","args","roughness","intensity","Effects","composer","useThree","scene","gl","current","setSize","height","useFrame","render","attachArray","Particles","instancedMesh","forEach","particle","rotation","updateMatrix","setMatrixAt","matrix","instanceMatrix","needsUpdate","frustumCulled","extend","EffectComposer","ShaderPass","RenderPass","UnrealBloomPass","FilmPass","Rocks","gltf","GLTFLoader","Rock","key","React","memo","nodes","materials","err","geometry","node_id4_Material_52_0","material","Material_52","make","createRef","normalize","Explosions","Explosion","group","type","mesh","vec","opacity","transparent","Track","red","orangered","ambientYellowLight","laserMaterial","crossMaterial","direction","Ship","main","laserGroup","laserLight","exhaust","cross","getWorldPosition","getWorldDirection","negate","visible","name","renderOrder","Rig","rig","segments","tangents","pickt","pick","pickNext","subVectors","binormals","dir","getTangentAt","lookAt","getLength","quaternion","setFromRotationMatrix","updateProjectionMatrix","lightPos","MenuGame","loading","setLoading","Wrapper","Loading","pointerEvents","GameControls","onPointerUp","onPointerMove","onPointerDown","linear","mode","dpr","antialias","near","far","onCreated","toneMapping","setClearColor","attach","fallback","MenuCredits","Credits","App","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.d1652df1.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/laser.373d639d.mp3\";","export default __webpack_public_path__ + \"static/media/engine.75bbe12e.mp3\";","export default __webpack_public_path__ + \"static/media/engine2.87c3c40a.mp3\";","export default __webpack_public_path__ + \"static/media/warp.1f9bec85.mp3\";","export default __webpack_public_path__ + \"static/media/click.db461987.mp3\";","export default __webpack_public_path__ + \"static/media/explosion.615cfd43.mp3\";","export default __webpack_public_path__ + \"static/media/crash.184e27d2.wav\";","export default __webpack_public_path__ + \"static/media/rylos-freak-lust.d42472e3.png\";","export default __webpack_public_path__ + \"static/media/rylos-freak-lust.a13462cf.mp3\";","export default __webpack_public_path__ + \"static/media/rylos-misunderstood.d13d9c2d.jpg\";","export default __webpack_public_path__ + \"static/media/rylos-misunderstood.2afd4c11.mp3\";","export default __webpack_public_path__ + \"static/media/rylos-road.86b24c20.png\";","export default __webpack_public_path__ + \"static/media/rylos-road.138ea8a0.mp3\";","export default __webpack_public_path__ + \"static/media/rylos-climate.f7a8098a.jpg\";","export default __webpack_public_path__ + \"static/media/rylos-climate.c3742818.mp3\";","export default __webpack_public_path__ + \"static/media/rylos-black-liquid.c5d1d0a2.jpg\";","export default __webpack_public_path__ + \"static/media/rylos-black-liquid.130be6d9.mp3\";","import zapAudio from \"./laser.mp3\"\nimport engineAudio from \"./engine.mp3\"\nimport engine2Audio from \"./engine2.mp3\"\nimport warpAudio from \"./warp.mp3\"\nimport clickAudio from \"./click.mp3\"\nimport explosionAudio from \"./explosion.mp3\"\nimport crashAudio from \"./crash.wav\"\n\nimport rylosFreakLustCover from \"../images/rylos-freak-lust.png\"\nimport rylosFreakLustSong from \"./rylos-freak-lust.mp3\"\n\nimport rylosMisunderstoodCover from \"../images/rylos-misunderstood.jpg\"\nimport rylosMisunderstoodSong from \"./rylos-misunderstood.mp3\"\n\nimport rylosRoadCover from \"../images/rylos-road.png\"\nimport rylosRoadSong from \"./rylos-road.mp3\"\n\nimport rylosClimateCover from \"../images/rylos-climate.jpg\"\nimport rylosClimateSong from \"./rylos-climate.mp3\"\n\nimport rylosBlackLiquidCover from \"../images/rylos-black-liquid.jpg\"\nimport rylosBlackLiquidSong from \"./rylos-black-liquid.mp3\"\n\nconst mp3 = { explosion: explosionAudio }\n\nconst soundTrack = [\n  { songName: \"Rylos - Freak Lust\", songCover: rylosFreakLustCover, songSrc: rylosFreakLustSong },\n  {\n    songName: \"Rylos - Misunderstood\",\n    songCover: rylosMisunderstoodCover,\n    songSrc: rylosMisunderstoodSong\n  },\n  {\n    songName: \"Rylos - Road\",\n    songCover: rylosRoadCover,\n    songSrc: rylosRoadSong\n  },\n  {\n    songName: \"Rylos - Climate\",\n    songCover: rylosClimateCover,\n    songSrc: rylosClimateSong\n  },\n  {\n    songName: \"Rylos - Black Liquid\",\n    songCover: rylosBlackLiquidCover,\n    songSrc: rylosBlackLiquidSong\n  }\n]\n\nconst crash = new Audio(crashAudio)\nconst zap = new Audio(zapAudio)\nconst engine = new Audio(engineAudio)\nconst engine2 = new Audio(engine2Audio)\nconst warp = new Audio(warpAudio)\nconst click = new Audio(clickAudio)\nconst explosion = new Audio(explosionAudio)\n\nexport function playAudio(audio, volume = 1, loop = false) {\n  audio.currentTime = 0\n  audio.volume = volume\n  audio.loop = loop\n  audio.play()\n}\n\nexport { crash, soundTrack, zap, engine, engine2, warp, click, explosion, mp3 }\n","import * as THREE from \"three\"\nimport { Curves } from \"three/examples/jsm/curves/CurveExtras\"\nimport { addEffect } from \"@react-three/fiber\"\nimport create from \"zustand\"\nimport * as audio from \"./audio\"\nimport throttle from \"lodash.throttle\"\n\nlet guid = 1\nconst COLLISION_DAMAGE = 20\nconst DIFFICULTY_INCREASE_INTERVAL = 15 // seconds\nconst MAXIMUM_TRAVEL_SPEED = 10000\nconst FIRING_DELAY = 200 // 300 rpm\n\nconst useStore = create((set, get) => {\n  let spline = new Curves.GrannyKnot()\n  let track = new THREE.TubeBufferGeometry(spline, 250, 0.2, 10, true)\n  let cancelLaserTO = undefined\n  let cancelExplosionTO = undefined\n  let shootingTO = undefined\n  const box = new THREE.Box3()\n\n  return {\n    currentTrackIndex: 0,\n    menu: undefined,\n    camera: undefined,\n    lastPoints: 0,\n    points: 0,\n    highScore: 0,\n    health: 100,\n    lasers: [],\n    explosions: [],\n    rocks: randomData(100, track, 150, 8, () => 1 + Math.random() * 2.5),\n    immunity: true,\n    clock: null,\n\n    mutation: {\n      t: 0,\n      position: new THREE.Vector3(),\n      startTime: null,\n      track,\n      scale: 15,\n      fov: 70,\n      hits: false,\n      particles: randomData(1500, track, 100, 1, () => 0.5 + Math.random() * 0.8),\n      looptime: 40 * 1000,\n      binormal: new THREE.Vector3(),\n      normal: new THREE.Vector3(),\n      mouse: new THREE.Vector2(-250, 50),\n\n      // Re-usable objects\n      dummy: new THREE.Object3D(),\n      ray: new THREE.Ray(),\n      box: new THREE.Box3()\n    },\n\n    actions: {\n      menu: {\n        start() {\n          set({ menu: null })\n        },\n        game() {\n          set({ menu: \"game\" })\n        },\n        credits() {\n          set({ menu: \"credits\" })\n        }\n      },\n      reset() {\n        set({ menu: \"game\", health: 100, immunity: true, points: 0 })\n      },\n      init(camera) {\n        const { mutation, actions } = get()\n\n        const sessionHighscore = localStorage.getItem(\"rylos-space-adventure-hiscore\")\n        if (sessionHighscore && parseInt(sessionHighscore)) {\n          set({ highScore: sessionHighscore })\n        }\n\n        set({ camera, clock: new THREE.Clock(true) })\n\n        const clock = get().clock\n        mutation.startTime = Date.now()\n\n        audio.playAudio(audio.engine, 0.4, true)\n        audio.playAudio(audio.engine2, 0.4, true)\n\n        addEffect(() => {\n          const { immunity } = get()\n          if (immunity) {\n            setTimeout(() => set({ immunity: false }), 5000)\n          }\n        })\n\n        addEffect(() => {\n          const { rocks, immunity } = get()\n\n          const time = Date.now()\n\n          // increase travel speed every (n) seconds overtime with a hard cap at very difficult\n          const difficultyLevel = clock.getElapsedTime() / DIFFICULTY_INCREASE_INTERVAL\n          const difficultyModifier = 40 - difficultyLevel\n\n          const looptime = Math.max(difficultyModifier * 1000, MAXIMUM_TRAVEL_SPEED)\n\n          const t = (mutation.t = ((time - mutation.startTime) % looptime) / looptime)\n\n          mutation.position = track.parameters.path.getPointAt(t)\n          mutation.position.multiplyScalar(mutation.scale)\n\n          // test for wormhole/warp\n          let warping = false\n          if (t > 0.3 && t < 0.4) {\n            if (!warping) {\n              warping = true\n              audio.playAudio(audio.warp)\n            }\n          } else if (t > 0.5) warping = false\n\n          // test for hits\n          const r = rocks.filter(actions.test)\n\n          const previous = mutation.hits\n          mutation.hits = r.length\n          if (previous === 0 && mutation.hits) {\n            audio.playAudio(audio.click)\n          }\n\n          // laser targed collisions\n          const lasers = get().lasers\n          if (mutation.hits && lasers.length && time - lasers[lasers.length - 1] < 100) {\n            const updates = r.map((data) => ({ time: Date.now(), ...data }))\n            set((state) => ({ explosions: [...state.explosions, ...updates] }))\n            clearTimeout(cancelExplosionTO)\n            cancelExplosionTO = setTimeout(() => set((state) => ({ explosions: state.explosions.filter(({ time }) => Date.now() - time <= 1000) })), 1000)\n\n            // replace shot rocks with new ones\n            const newRocks = randomData(mutation.hits, track, 150, 8, () => 1 + Math.random() * 2.5)\n\n            set((state) => ({\n              points: state.points + r.length * 100,\n              rocks: [...newRocks, ...state.rocks.filter((rock) => !r.find((r) => r.guid === rock.guid))]\n            }))\n          }\n\n          // player movement collisions\n          const rockCollisions = r.filter((data) => data.distance < 30)\n          if (rockCollisions.length > 0) {\n            audio.playAudio(audio.crash, 1, false)\n\n            const updates = rockCollisions.map((data) => ({ time: Date.now(), ...data }))\n            set((state) => ({ explosions: [...state.explosions, ...updates] }))\n            clearTimeout(cancelExplosionTO)\n            cancelExplosionTO = setTimeout(() => set((state) => ({ explosions: state.explosions.filter(({ time }) => Date.now() - time <= 1000) })), 1000)\n\n            // replace collided rocks with new ones\n            const newRocks = randomData(mutation.hits, track, 150, 8, () => 1 + Math.random() * 2.5)\n\n            set((state) => ({\n              rocks: [...newRocks, ...state.rocks.filter((rock) => !rockCollisions.find((r) => r.guid === rock.guid))]\n            }))\n\n            if (immunity === false) {\n              set((state) => ({ health: Math.max(0, state.health - COLLISION_DAMAGE) }))\n            }\n          }\n\n          if (get().health <= 0) {\n            const points = get().points\n\n            set({ menu: \"dead\", lastPoints: points, clock: null })\n\n            if (get().highScore < points) {\n              set({ highScore: points })\n              localStorage.setItem(\"rylos-space-adventure-hiscore\", points)\n            }\n          }\n        })\n      },\n      autofire: throttle((e) => {\n        if (e && e.button === 0) {\n          clearInterval(shootingTO)\n          get().actions.fire()\n\n          shootingTO = setInterval(() => {\n            get().actions.fire()\n          }, FIRING_DELAY)\n        }\n      }, FIRING_DELAY),\n      cancelAutofire() {\n        clearInterval(shootingTO)\n      },\n      fire() {\n        set((state) => ({ lasers: [...state.lasers, Date.now()] }))\n        clearTimeout(cancelLaserTO)\n        cancelLaserTO = setTimeout(() => set((state) => ({ lasers: state.lasers.filter((t) => Date.now() - t <= 1000) })), 1000)\n        audio.playAudio(audio.zap, 0.25)\n      },\n      // translate touches to movement\n      onTouchMove(e) {\n        const { clientX, clientY } = e.touches[0]\n        get().actions.move({ clientX, clientY })\n      },\n      move({ clientX: x, clientY: y }) {\n        get().mutation.mouse.set(x - window.innerWidth / 2, y - window.innerHeight / 2)\n      },\n      test(data) {\n        box.min.copy(data.offset)\n        box.max.copy(data.offset)\n        box.expandByScalar(data.size * data.scale)\n        data.hit.set(10000, 10000, 10000)\n        const result = get().mutation.ray.intersectBox(box, data.hit)\n        data.distance = get().mutation.ray.origin.distanceTo(data.hit)\n        return result\n      }\n    }\n  }\n})\n\nfunction randomData(count, track, radius, size, scale) {\n  return new Array(count).fill().map(() => {\n    const t = Math.random()\n    const pos = track.parameters.path.getPointAt(t)\n    pos.multiplyScalar(15)\n    const offset = pos\n      .clone()\n      .add(new THREE.Vector3(-radius + Math.random() * radius * 2, -radius + Math.random() * radius * 2, -radius + Math.random() * radius * 2))\n    const speed = 0.1 + Math.random()\n    return { guid: guid++, scale: typeof scale === \"function\" ? scale() : scale, size, offset, pos, speed, radius, t, hit: new THREE.Vector3(), distance: 1000 }\n  })\n}\n\nexport default useStore\n","import React from \"react\"\nimport styled from \"styled-components\"\n\nexport const Menu = (props) => {\n  return (\n    <MenuWrapper>\n      <MenuContent>{props.children}</MenuContent>\n    </MenuWrapper>\n  )\n}\n\nconst MenuWrapper = styled.div`\n  background-repeat: no-repeat;\n  background-position: center 10%;\n  background-color: #16161d;\n  display: flex;\n  width: 100%;\n  height: 100%;\n  align-items: center;\n  justify-content: center;\n  color: white;\n  padding: 2rem;\n  cursor: default;\n\n  h1 {\n    font-size: 6rem;\n    font-family: \"Sedgwick Ave\";\n    text-transform: uppercase;\n    margin-bottom: 0;\n    margin-top: 0;\n    text-align: center;\n  }\n\n  div + p {\n    font-size: 2rem;\n    width: 1200px;\n    max-width: 100%;\n    text-align: center;\n    margin-bottom: 5rem;\n    margin-top: 0;\n  }\n\n  @media only screen and (max-width: 900px) {\n    h1 {\n      font-size: 2.5rem;\n    }\n\n    div + p {\n      font-size: 1.2rem;\n    }\n  }\n`\n\nexport const MenuActions = styled.div`\n  justify-content: center;\n  align-items: center;\n  display: flex;\n\n  @media only screen and (max-width: 900px) {\n    flex-direction: column;\n  }\n`\n\nexport const MenuActionItem = styled.button`\n  border: 3px solid orangered;\n  pointer-events: all;\n  background: linear-gradient(#4f0158, #000000);\n  cursor: pointer;\n  color: white;\n  font-weight: 900;\n  text-transform: uppercase;\n  font-size: 3rem;\n  font-family: \"Sedgwick Ave\";\n  min-width: 300px;\n  padding: 0 2rem;\n  margin-top: 1rem;\n  margin-right: 1rem;\n\n  transition: background linear 0.2s;\n\n  &:last-of-type {\n    margin-right: 0;\n  }\n\n  &:hover {\n    background: linear-gradient(#740181, #000000);\n  }\n\n  &:focus {\n    background: linear-gradient(#47004f, #000000);\n  }\n\n  @media only screen and (max-width: 900px) {\n    font-size: 2rem;\n  }\n`\n\nconst MenuContent = styled.div`\n  height: 100%;\n  width: 1024px;\n  max-width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n\n  img#logo {\n    margin-top: -4rem;\n    margin-bottom: -4rem;\n\n    @media only screen and (max-width: 900px) {\n      margin-top: -2rem;\n      margin-bottom: -2rem;\n    }\n  }\n\n  img {\n    max-width: 100%;\n  }\n`\n","export default __webpack_public_path__ + \"static/media/rylos-logo.46173d62.png\";","export default __webpack_public_path__ + \"static/media/start.35972233.ogg\";","export default __webpack_public_path__ + \"static/media/select.2ed6fa3f.wav\";","import styled from \"styled-components\"\n\nexport const Wave = (props) => (\n  <WaveWrapper>\n    {props.words.map((word) => (\n      <WaveWord key={word}>\n        {[...word].map((char, index) => (\n          <span key={`${char}-${index}`}>{char}</span>\n        ))}\n      </WaveWord>\n    ))}\n  </WaveWrapper>\n)\n\nexport const WaveWrapper = styled.div`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: center;\n\n  @media only screen and (max-width: 900px) {\n    flex-direction: column;\n    margin-top: 1rem;\n  }\n`\n\nexport const WaveWord = styled.h1`\n  display: flex;\n  flex-wrap: nowrap;\n\n  &:first-of-type {\n    margin-right: 2rem;\n\n    @media only screen and (max-width: 900px) {\n      margin-bottom: -1rem;\n      margin-right: 0;\n    }\n  }\n\n  span {\n    text-shadow: 0 0 5px #fff, 0 0 60px #9b51e0;\n    display: inline-block;\n    animation: wave-text 1s ease-in-out infinite;\n  }\n\n  span:nth-of-type(1) {\n    animation-delay: 0s;\n  }\n  span:nth-of-type(2) {\n    animation-delay: 0.1s;\n  }\n  span:nth-of-type(3) {\n    animation-delay: 0.2s;\n  }\n  span:nth-of-type(4) {\n    animation-delay: 0.3s;\n  }\n  span:nth-of-type(5) {\n    animation-delay: 0.4s;\n  }\n  span:nth-of-type(6) {\n    animation-delay: 0.5s;\n  }\n  span:nth-of-type(7) {\n    animation-delay: 0.6s;\n  }\n  span:nth-of-type(8) {\n    animation-delay: 0.7s;\n  }\n  span:nth-of-type(9) {\n    animation-delay: 0.8s;\n  }\n`\n","import { Menu, MenuActions, MenuActionItem } from \"./Menu\"\nimport rylosLogo from \"../images/rylos-logo.png\"\nimport startAudio from \"../audio/start.ogg\"\nimport selectAudio from \"../audio/select.wav\"\nimport useStore from \"../store\"\nimport { Wave } from \"../Wave\"\n\nexport const MenuStart = () => {\n  const actions = useStore((state) => state.actions)\n\n  return (\n    <Menu>\n      <img id=\"logo\" src={rylosLogo} />\n\n      <Wave words={[\"Space\", \"Adventure\"]} />\n\n      <p>\n        Humankind has been dumping trash in to the space for ages. Now the trash are returning to the earth. Only Ned the Carrot and his loyal spaceship can\n        stop the earth from being trashed.\n      </p>\n      <MenuActions>\n        <MenuActionItem\n          onClick={() => {\n            new Audio(startAudio).play()\n            actions.menu.game()\n          }}>\n          Play\n        </MenuActionItem>\n        <MenuActionItem\n          onClick={() => {\n            new Audio(selectAudio).play()\n            actions.menu.credits()\n          }}>\n          Credits\n        </MenuActionItem>\n      </MenuActions>\n    </Menu>\n  )\n}\n","export default __webpack_public_path__ + \"static/media/game-over.dea041e4.wav\";","export default __webpack_public_path__ + \"static/media/award.8c76d1fb.svg\";","import { Menu, MenuActions, MenuActionItem } from \"./Menu\"\nimport styled from \"styled-components\"\nimport gameOver from \"../audio/game-over.wav\"\nimport highscoreIcon from \"../images/award.svg\"\nimport useStore from \"../store\"\n\nexport const MenuDead = () => {\n  const highScore = useStore((state) => state.highScore)\n  const lastPoints = useStore((state) => state.lastPoints)\n  const reset = useStore((state) => state.actions.reset)\n\n  return (\n    <Menu>\n      <audio autoPlay>\n        <source src={gameOver} />\n      </audio>\n      <h1>Game Over</h1>\n      <Scores>\n        <p>Score: {lastPoints}</p>\n        {highScore > 0 && <p>Highscore: {highScore}</p>}\n\n        {lastPoints > 0 && lastPoints === highScore && (\n          <Highscore>\n            <img src={highscoreIcon} />\n            <p>New highscore!</p>\n          </Highscore>\n        )}\n      </Scores>\n      <MenuActions>\n        <MenuActionItem\n          onClick={() => {\n            new Audio(startAudio).play()\n            reset()\n          }}>\n          Play Again\n        </MenuActionItem>\n      </MenuActions>\n    </Menu>\n  )\n}\n\nconst Scores = styled.div`\n  > p {\n    font-size: 2rem;\n    text-align: center;\n    margin-bottom: 1rem;\n    margin-top: 0;\n  }\n\n  @media only screen and (max-width: 900px) {\n    p {\n      font-size: 1.2rem;\n    }\n  }\n`\n\nconst Highscore = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  img {\n    max-width: 45px;\n    margin-right: 1rem;\n  }\n\n  p {\n    white-space: nowrap;\n    font-size: 2rem;\n    text-align: center;\n    color: goldenrod;\n  }\n`\n","export default __webpack_public_path__ + \"static/media/rewind.4cd5b907.svg\";","export default __webpack_public_path__ + \"static/media/play.496c51e4.svg\";","import rewindIcon from \"../images/rewind.svg\"\nimport playIcon from \"../images/play.svg\"\nimport React from \"react\"\nimport { soundTrack } from \"../audio\"\nimport { useEffect, useState } from \"react\"\nimport styled from \"styled-components\"\n\nexport const Radio = () => {\n  const initialSongIndex = Math.floor(Math.random() * (soundTrack.length - 1 - 0 + 1) + 0)\n  const [currentSoundtrackIndex, setCurrentSoundtrackIndex] = useState(initialSongIndex)\n  const audioElement = useState(new Audio(soundTrack[currentSoundtrackIndex].songSrc))[0]\n  const currentTrack = soundTrack[currentSoundtrackIndex]\n\n  useEffect(() => {\n    audioElement.loop = true\n    audioElement.play()\n    return () => {\n      audioElement.pause()\n      audioElement.removeAttribute(\"src\")\n      audioElement.load()\n    }\n  }, [])\n\n  useEffect(() => {\n    audioElement.pause()\n    audioElement.setAttribute(\"src\", soundTrack[currentSoundtrackIndex].songSrc)\n    audioElement.load()\n    audioElement.play()\n  }, [currentSoundtrackIndex])\n\n  const prev = () => {\n    const prevIndex = Math.max(currentSoundtrackIndex - 1, 0)\n    if (currentSoundtrackIndex === prevIndex) {\n      setCurrentSoundtrackIndex(soundTrack.length - 1)\n    } else {\n      setCurrentSoundtrackIndex(prevIndex)\n    }\n  }\n  const next = () => {\n    const nextIndex = Math.min(currentSoundtrackIndex + 1, soundTrack.length - 1)\n    if (nextIndex === currentSoundtrackIndex) {\n      setCurrentSoundtrackIndex(0)\n    } else {\n      setCurrentSoundtrackIndex(nextIndex)\n    }\n  }\n\n  const toggle = () => {\n    const isPlaying = audioElement.duration > 0 && !audioElement.paused\n    if (isPlaying) {\n      audioElement.pause()\n    } else {\n      audioElement.play()\n    }\n  }\n\n  return (\n    <RadioWrapper>\n      <RadioCover>\n        <img src={currentTrack.songCover} />\n      </RadioCover>\n      <RadioControls>\n        <RadioTrack>\n          <RadioTrackDetails>\n            <span>{currentTrack?.songName}</span>\n            <span className=\"last\">{currentTrack?.songName}</span>\n          </RadioTrackDetails>\n        </RadioTrack>\n        <RadioActions>\n          <button>\n            <img onClick={prev} src={rewindIcon} />\n          </button>\n          <button onClick={toggle}>\n            <img src={playIcon} />\n          </button>\n          <button>\n            <img onClick={next} src={rewindIcon} />\n          </button>\n        </RadioActions>\n      </RadioControls>\n    </RadioWrapper>\n  )\n}\n\nconst RadioWrapper = styled.div`\n  width: 400px;\n  max-width: 100%;\n  background: linear-gradient(#4f0158, #000000);\n  flex-direction: row;\n  display: flex;\n  padding: 10px;\n  overflow: hidden;\n  box-shadow: 0 15px 15px rgba(0, 0, 0, 0.7);\n  border-radius: 4px;\n\n  * {\n    cursor: pointer;\n    pointer-events: all;\n  }\n\n  @media only screen and (max-width: 900px) {\n    width: 100%;\n  }\n`\n\nconst RadioCover = styled.div`\n  border: 2px solid orangered;\n  overflow: hidden;\n  height: 90px;\n  width: 90px;\n  margin-right: 1rem;\n  img {\n    height: 100%;\n  }\n`\nconst RadioControls = styled.div`\n  flex-grow: 1;\n`\n\nconst RadioTrack = styled.div`\n  display: flex;\n  flex-direction: row;\n  width: 100%;\n  margin-bottom: 0.5rem;\n`\n\nconst RadioTrackDetails = styled.div`\n  position: relative;\n  height: 100%;\n  width: 100%;\n  border-radius: 2px;\n  padding: 1rem 0.5rem;\n  overflow: hidden;\n  background: black;\n\n  span {\n    white-space: nowrap;\n    padding-left: 100%;\n    top: 8px;\n    position: absolute;\n    color: white;\n    display: inline-block;\n    animation: scroll-left 12s linear infinite;\n  }\n  span.last {\n    animation-delay: 6s;\n  }\n`\n\nconst RadioActions = styled.div`\n  button {\n    border-radius: 1rem;\n    background: transparent;\n    width: 3.5rem;\n    margin-right: 0.5rem;\n    height: 2.5rem;\n    border-color: orangered;\n  }\n\n  button:last-of-type img {\n    width: 100%;\n    transform: scaleX(-1);\n  }\n\n  button img {\n    width: 100%;\n    height: 100%;\n  }\n`\n","export default __webpack_public_path__ + \"static/media/cardiogram.3d5622b7.svg\";","export default __webpack_public_path__ + \"static/media/heartbeat.7f66a5e2.wav\";","export default __webpack_public_path__ + \"static/media/garbage.520ba2b9.svg\";","import React, { useMemo, useEffect } from \"react\"\nimport styled, { css, createGlobalStyle } from \"styled-components\"\nimport useStore from \"../store\"\nimport { Radio } from \"./Radio\"\nimport heartIcon from \"../images/cardiogram.svg\"\nimport heartbeat from \"../audio/heartbeat.wav\"\nimport garbage from \"../images/garbage.svg\"\n\nexport default function Hud() {\n  const points = useStore((state) => state.points)\n  const immunity = useStore((state) => state.immunity)\n  const health = useStore((state) => state.health)\n  const toggle = useStore((state) => state.actions.toggleSound)\n  const score = useMemo(() => (points >= 1000 ? (points / 1000).toFixed(1) + \"K\" : points), [points])\n\n  const lowHealth = health < 50\n  const healthColor = lowHealth ? \"#c5411e\" : \"#008C20\"\n\n  useEffect(() => {\n    const audioElement = new Audio()\n    audioElement.volume = 1\n    audioElement.loop = true\n\n    if (lowHealth) {\n      audioElement.setAttribute(\"src\", heartbeat)\n      audioElement.load()\n      audioElement.play()\n    } else {\n      audioElement.pause()\n      audioElement.removeAttribute(\"src\")\n      audioElement.load()\n    }\n    return () => {\n      audioElement.pause()\n      audioElement.removeAttribute(\"src\")\n      audioElement.load()\n    }\n  }, [lowHealth])\n\n  return (\n    <>\n      <UpperLeft onClick={() => toggle()}>\n        <HealthContainer>\n          <img className={lowHealth ? \"pulse\" : \"\"} src={heartIcon} />\n          <div style={{ flexGrow: 1, marginRight: \"1rem\" }}>\n            <HealthValue style={{ backgroundColor: immunity ? \"blue\" : healthColor, width: `${health}%` }}></HealthValue>\n          </div>\n        </HealthContainer>\n      </UpperLeft>\n      <UpperRight>\n        <a target=\"_blank\" href=\"https://www.rylosplanet.fi/\">\n          Rylos Planet\n        </a>\n      </UpperRight>\n      <LowerLeft>\n        <Score>\n          <img src={garbage} />\n          <h1>{score}</h1>\n        </Score>\n      </LowerLeft>\n      <Global />\n      <LowerRight>\n        <Radio />\n      </LowerRight>\n    </>\n  )\n}\n\nconst base = css`\n  font-family: \"Sedgwick Ave\", sans-serif;\n  position: absolute;\n  text-transform: uppercase;\n  font-weight: 900;\n  font-variant-numeric: slashed-zero tabular-nums;\n  line-height: 1em;\n  pointer-events: none;\n  color: #9b51e0;\n`\n\nconst Score = styled.div`\n  display: flex;\n  flex-direction: row;\n\n  img {\n    width: 50px;\n    margin-right: 2rem;\n  }\n`\n\nconst HealthContainer = styled.div`\n  border-radius: 0.5rem;\n  display: flex;\n  flex-direction: row;\n  background: #333;\n  border: 2px solid #666;\n  margin-top: 1rem;\n  padding: 0.5rem;\n  width: 100%;\n\n  img {\n    max-width: 45px;\n    margin-right: 1rem;\n  }\n`\n\nconst HealthValue = styled.div`\n  background: green;\n  color: white;\n  overflow: hidden;\n  transition: width 0.2s ease-in;\n  height: 100%;\n`\n\nconst UpperLeft = styled.div`\n  ${base}\n  top: 50px;\n  left: 50px;\n  font-size: 2em;\n  transform: skew(5deg, 5deg);\n  width: 250px;\n\n  @media only screen and (max-width: 900px) {\n    width: 200px;\n    left: 20px;\n    top: 20px;\n    font-size: 1.5em;\n  }\n`\n\nconst UpperRight = styled.div`\n  ${base}\n  text-align: right;\n  top: 50px;\n  right: 50px;\n  font-size: 2em;\n  transform: skew(-5deg, -5deg);\n  pointer-events: all;\n  cursor: pointer;\n  text-shadow: 1px 1px 1px rgba(0, 0, 0.5);\n\n  * {\n    cursor: pointer;\n    pointer-events: all;\n  }\n\n  @media only screen and (max-width: 900px) {\n    top: 55px;\n    right: 30px;\n    transform: none;\n    font-size: 1.5em;\n  }\n\n  & > a {\n    color: #9b51e0;\n    text-decoration: none;\n  }\n  @media only screen and (max-width: 900px) {\n    font-size: 1.5em;\n  }\n`\n\nconst LowerLeft = styled.div`\n  ${base}\n  bottom: 50px;\n  left: 50px;\n  transform: skew(-5deg, -5deg);\n  text-shadow: 1px 1px 1px rgba(0, 0, 0.5);\n\n  h1 {\n    margin: 0;\n    font-size: 4em;\n    line-height: 1em;\n  }\n  @media only screen and (max-width: 900px) {\n    left: 20px;\n    bottom: 140px;\n    h1 {\n      font-size: 3em !important;\n    }\n  }\n`\n\nconst LowerRight = styled.div`\n  ${base}\n  bottom: 50px;\n  right: 50px;\n  transform: skew(5deg, 5deg);\n\n  * {\n    cursor: pointer;\n    pointer-events: all;\n  }\n\n  @media only screen and (max-width: 900px) {\n    transform: none;\n    bottom: 0;\n    right: 0;\n    width: 100%;\n  }\n`\n\nconst Global = createGlobalStyle`\n  * {\n    box-sizing: border-box;\n  }\n\n  html,\n  body,\n  #root {\n    width: 100%;\n    height: 100%;\n    margin: 0;\n    padding: 0;\n    user-select: none;\n    overflow: hidden;\n  }\n\n  #root {\n    overflow: auto;\n    padding: 0px;\n  }\n\n  body {\n    position: fixed;\n    overflow: hidden;\n    overscroll-behavior-y: none;\n    font-family: -apple-system, BlinkMacSystemFont, avenir next, avenir, helvetica neue, helvetica, ubuntu, roboto, noto, segoe ui, arial, sans-serif;\n    color: black;\n    background: white;\n  }\n`\n","import React, { useMemo } from \"react\"\n\nexport default function Stars({ count = 2000 }) {\n  const positions = useMemo(() => {\n    let positions = []\n    for (let i = 0; i < count; i++) {\n      const r = 4000\n      const theta = 2 * Math.PI * Math.random()\n      const phi = Math.acos(2 * Math.random() - 1)\n      const x = r * Math.cos(theta) * Math.sin(phi) + (-2000 + Math.random() * 4000)\n      const y = r * Math.sin(theta) * Math.sin(phi) + (-2000 + Math.random() * 4000)\n      const z = r * Math.cos(phi) + (-1000 + Math.random() * 2000)\n      positions.push(x)\n      positions.push(y)\n      positions.push(z)\n    }\n    return new Float32Array(positions)\n  }, [count])\n  return (\n    <points>\n      <bufferGeometry>\n        <bufferAttribute attachObject={[\"attributes\", \"position\"]} count={positions.length / 3} array={positions} itemSize={3} />\n      </bufferGeometry>\n      <pointsMaterial size={15} sizeAttenuation color=\"white\" fog={false} />\n    </points>\n  )\n}\n","export default __webpack_public_path__ + \"static/media/earth.45ed3b77.jpg\";","export default __webpack_public_path__ + \"static/media/moon.27019542.png\";","import * as THREE from \"three\"\nimport React, { useRef } from \"react\"\nimport { useLoader } from \"@react-three/fiber\"\nimport earthImg from \"../images/earth.jpg\"\nimport moonImg from \"../images/moon.png\"\n\nexport default function Planets() {\n  const ref = useRef()\n  const [texture, moon] = useLoader(THREE.TextureLoader, [earthImg, moonImg])\n  return (\n    <group ref={ref} scale={[100, 100, 100]} position={[-500, -500, 1000]}>\n      <mesh>\n        <sphereGeometry args={[5, 32, 32]} />\n        <meshStandardMaterial map={texture} roughness={1} fog={false} />\n      </mesh>\n      <mesh position={[5, -5, -5]}>\n        <sphereGeometry args={[0.75, 32, 32]} />\n        <meshStandardMaterial roughness={1} map={moon} fog={false} />\n      </mesh>\n      <pointLight position={[-5, -5, -5]} distance={1000} intensity={6} />\n      <mesh position={[-30, -10, -60]}>\n        <sphereGeometry args={[4, 32, 32]} />\n        <meshBasicMaterial color=\"#FFFF99\" fog={false} />\n        <pointLight distance={6100} intensity={50} color=\"white\" />\n      </mesh>\n    </group>\n  )\n}\n","import React, { useRef, useEffect } from \"react\"\nimport { extend, useThree, useFrame } from \"@react-three/fiber\"\nimport { EffectComposer } from \"three/examples/jsm/postprocessing/EffectComposer\"\nimport { ShaderPass } from \"three/examples/jsm/postprocessing/ShaderPass\"\nimport { RenderPass } from \"three/examples/jsm/postprocessing/RenderPass\"\nimport { UnrealBloomPass } from \"three/examples/jsm/postprocessing/UnrealBloomPass\"\nimport { FilmPass } from \"three/examples/jsm/postprocessing/FilmPass\"\n\nextend({ EffectComposer, ShaderPass, RenderPass, UnrealBloomPass, FilmPass })\n\nexport default function Effects() {\n  const composer = useRef()\n  const { scene, gl, size, camera } = useThree()\n  useEffect(() => void composer.current.setSize(size.width, size.height), [size])\n  useFrame(() => composer.current.render(), 2)\n  return (\n    <effectComposer ref={composer} args={[gl]}>\n      <renderPass attachArray=\"passes\" scene={scene} camera={camera} />\n      <unrealBloomPass attachArray=\"passes\" args={[undefined, 1.8, 1, 0]} />\n    </effectComposer>\n  )\n}\n","import React, { useRef, useEffect } from \"react\"\nimport useStore from \"../store\"\n\nexport default function Particles() {\n  const instancedMesh = useRef()\n  const { particles, dummy } = useStore((state) => state.mutation)\n\n  useEffect(() => {\n    particles.forEach((particle, i) => {\n      const { offset, scale } = particle\n      dummy.position.copy(offset)\n      dummy.scale.set(scale, scale, scale)\n      dummy.rotation.set(Math.sin(Math.random()) * Math.PI, Math.sin(Math.random()) * Math.PI, Math.cos(Math.random()) * Math.PI)\n      dummy.updateMatrix()\n      instancedMesh.current.setMatrixAt(i, dummy.matrix)\n    })\n    instancedMesh.current.instanceMatrix.needsUpdate = true\n  }, [])\n\n  return (\n    <instancedMesh ref={instancedMesh} args={[null, null, particles.length]} frustumCulled={false}>\n      <coneGeometry args={[2, 2, 3]} />\n      <meshStandardMaterial color=\"#606060\" />\n    </instancedMesh>\n  )\n}\n","import React, { useRef } from \"react\"\nimport { useFrame, useLoader } from \"@react-three/fiber\"\nimport { GLTFLoader } from \"three/examples/jsm/loaders/GLTFLoader\"\nimport useStore from \"../store\"\n\nexport default function Rocks() {\n  const gltf = useLoader(GLTFLoader, \"/rylos-space-adventure/rock.gltf\")\n  const rocks = useStore((state) => state.rocks)\n  return rocks.map((data) => <Rock {...gltf} key={`rock-${data.guid}`} data={data} />)\n}\n\nconst Rock = React.memo(({ nodes, materials, data }) => {\n  const ref = useRef()\n  const clock = useStore((state) => state.clock)\n  useFrame(() => {\n    try {\n      const r = Math.cos((clock.getElapsedTime() / 2) * data.speed) * Math.PI\n      ref.current.rotation.set(r, r, r)\n    } catch (err) {}\n  })\n  return (\n    <group ref={ref} position={data.offset} scale={[data.scale, data.scale, data.scale]}>\n      <group\n        position={[-0.016298329457640648, -0.012838120572268963, 0.24073271453380585]}\n        rotation={[3.0093872578726644, 0.27444228385461117, -0.22745113653772078]}\n        scale={[20, 20, 20]}>\n        <mesh geometry={nodes.node_id4_Material_52_0.geometry} material={materials.Material_52} material-roughness={1} material-metalness={1} />\n      </group>\n    </group>\n  )\n})\n","import * as THREE from \"three\"\nimport React, { useRef, useMemo, useEffect } from \"react\"\nimport { useFrame } from \"@react-three/fiber\"\nimport useStore from \"../store\"\nimport * as audio from \"../audio\"\n\nfunction make(color, speed) {\n  return {\n    ref: React.createRef(),\n    color,\n    data: new Array(20)\n      .fill()\n      .map(() => [\n        new THREE.Vector3(),\n        new THREE.Vector3(-1 + Math.random() * 2, -1 + Math.random() * 2, -1 + Math.random() * 2).normalize().multiplyScalar(speed * 0.75)\n      ])\n  }\n}\n\nexport default function Explosions() {\n  const explosions = useStore((state) => state.explosions)\n  return explosions.map(({ guid, offset, scale }) => <Explosion key={`explosion-${guid}`} position={offset} scale={scale * 0.75} />)\n}\n\nfunction Explosion({ position, scale }) {\n  const group = useRef()\n  const { dummy } = useStore((state) => state.mutation)\n  const particles = useMemo(() => [make(\"white\", 0.8), make(\"orange\", 0.6)], [])\n\n  useEffect(() => void audio.playAudio(new Audio(audio.mp3.explosion), 0.2), [])\n\n  useFrame(() => {\n    particles.forEach(({ data }, type) => {\n      try {\n        const mesh = group.current.children[type]\n        data.forEach(([vec, normal], i) => {\n          vec.add(normal)\n          dummy.position.copy(vec)\n          dummy.updateMatrix()\n          mesh.setMatrixAt(i, dummy.matrix)\n        })\n        mesh.material.opacity -= 0.025\n        mesh.instanceMatrix.needsUpdate = true\n      } catch (err) {}\n    })\n  })\n\n  return (\n    <group ref={group} position={position} scale={[scale, scale, scale]}>\n      {particles.map(({ color, data }, index) => (\n        <instancedMesh key={index} args={[null, null, data.length]} frustumCulled={false}>\n          <dodecahedronGeometry args={[10, 0]} />\n          <meshBasicMaterial color={color} transparent opacity={1} fog={false} />\n        </instancedMesh>\n      ))}\n    </group>\n  )\n}\n","import React from \"react\"\nimport useStore from \"../store\"\n\nexport default function Track() {\n  const { scale, track } = useStore((state) => state.mutation)\n  return (\n    <mesh scale={[scale, scale, scale]} geometry={track}>\n      <meshBasicMaterial color=\"#9b51e0\" />\n    </mesh>\n  )\n}\n","import * as THREE from \"three\"\nimport React, { useRef } from \"react\"\nimport { useLoader, useFrame } from \"@react-three/fiber\"\nimport { GLTFLoader } from \"three/examples/jsm/loaders/GLTFLoader\"\nimport useStore from \"../store\"\n\nconst geometry = new THREE.BoxBufferGeometry(1, 1, 40)\nconst red = new THREE.Color(\"red\")\nconst orangered = new THREE.Color(\"orangered\")\nconst ambientYellowLight = new THREE.Color(\"#FFF293\")\nconst laserMaterial = new THREE.MeshBasicMaterial({ color: orangered })\nconst crossMaterial = new THREE.MeshBasicMaterial({ color: orangered, fog: false })\nconst position = new THREE.Vector3()\nconst direction = new THREE.Vector3()\n\nexport default function Ship() {\n  const { nodes } = useLoader(GLTFLoader, \"/rylos-space-adventure/ship.gltf\")\n  const clock = useStore((state) => state.clock)\n  const mutation = useStore((state) => state.mutation)\n  const { mouse, ray } = mutation\n  const lasers = useStore((state) => state.lasers)\n  const main = useRef()\n  const laserGroup = useRef()\n  const laserLight = useRef()\n  const exhaust = useRef()\n  const cross = useRef()\n  const target = useRef()\n\n  useFrame(() => {\n    if (clock) {\n      main.current.position.z = Math.sin(clock.getElapsedTime() * 40) * Math.PI * 0.2\n      main.current.rotation.z += (mouse.x / 500 - main.current.rotation.z) * 0.2\n    }\n\n    main.current.rotation.x += (-mouse.y / 1200 - main.current.rotation.x) * 0.2\n    main.current.rotation.y += (-mouse.x / 1200 - main.current.rotation.y) * 0.2\n    main.current.position.x += (mouse.x / 10 - main.current.position.x) * 0.2\n    main.current.position.y += (25 + -mouse.y / 10 - main.current.position.y) * 0.2\n\n    if (clock) {\n      exhaust.current.scale.x = 1 + Math.sin(clock.getElapsedTime() * 200)\n      exhaust.current.scale.y = 1 + Math.sin(clock.getElapsedTime() * 200)\n    }\n\n    exhaust.current.scale.x = 0.01\n    exhaust.current.scale.y = 0.01\n    for (let i = 0; i < lasers.length; i++) {\n      const group = laserGroup.current.children[i]\n      group.position.z -= 20\n    }\n    laserLight.current.intensity += ((lasers.length && Date.now() - lasers[lasers.length - 1] < 100 ? 20 : 0) - laserLight.current.intensity) * 0.3\n\n    // Get ships orientation and save it to the stores ray\n    main.current.getWorldPosition(position)\n    main.current.getWorldDirection(direction)\n    ray.origin.copy(position)\n    ray.direction.copy(direction.negate())\n\n    crossMaterial.color = mutation.hits ? red : orangered\n    // cross.current.visible = true // !mutation.hits\n    target.current.visible = !!mutation.hits\n  })\n\n  return (\n    <group ref={main}>\n      <group scale={[3.5, 3.5, 3.5]}>\n        <group ref={cross} position={[0, 0, -300]} name=\"cross\">\n          <mesh renderOrder={1000} material={crossMaterial}>\n            <boxGeometry args={[20, 2, 2]} />\n          </mesh>\n          <mesh renderOrder={1000} material={crossMaterial}>\n            <boxGeometry args={[2, 20, 2]} />\n          </mesh>\n        </group>\n        <group ref={target} position={[0, 0, -300]} name=\"target\">\n          <mesh position={[0, 20, 0]} renderOrder={1000} material={crossMaterial}>\n            <boxGeometry args={[40, 2, 2]} />\n          </mesh>\n          <mesh position={[0, -20, 0]} renderOrder={1000} material={crossMaterial}>\n            <boxGeometry args={[40, 2, 2]} />\n          </mesh>\n          <mesh position={[20, 0, 0]} renderOrder={1000} material={crossMaterial}>\n            <boxGeometry args={[2, 40, 2]} />\n          </mesh>\n          <mesh position={[-20, 0, 0]} renderOrder={1000} material={crossMaterial}>\n            <boxGeometry args={[2, 40, 2]} />\n          </mesh>\n        </group>\n        <pointLight ref={laserLight} position={[0, 0, -20]} distance={100} intensity={0} color={ambientYellowLight} />\n        <group ref={laserGroup}>\n          {lasers.map((t, i) => (\n            <group key={i}>\n              <mesh position={[-2.8, 0, -0.8]} geometry={geometry} material={laserMaterial} />\n              <mesh position={[2.8, 0, -0.8]} geometry={geometry} material={laserMaterial} />\n            </group>\n          ))}\n        </group>\n        <group rotation={[Math.PI / 2, Math.PI, 0]}>\n          <mesh name=\"Renault_(S,_T1)_0\" geometry={nodes[\"Renault_(S,_T1)_0\"].geometry}>\n            <meshStandardMaterial color=\"#16161d\" />\n          </mesh>\n          <mesh name=\"Renault_(S,_T1)_1\" geometry={nodes[\"Renault_(S,_T1)_1\"].geometry}>\n            <meshStandardMaterial color=\"#4c341c\" />\n          </mesh>\n          <mesh name=\"Renault_(S,_T1)_2\" geometry={nodes[\"Renault_(S,_T1)_2\"].geometry}>\n            <meshStandardMaterial color=\"#16161d\" />\n          </mesh>\n          <mesh name=\"Renault_(S,_T1)_3\" geometry={nodes[\"Renault_(S,_T1)_3\"].geometry}>\n            <meshBasicMaterial color=\"lightblue\" />\n          </mesh>\n          <mesh name=\"Renault_(S,_T1)_4\" geometry={nodes[\"Renault_(S,_T1)_4\"].geometry}>\n            <meshBasicMaterial color=\"orangered\" />\n          </mesh>\n          <mesh name=\"Renault_(S,_T1)_5\" geometry={nodes[\"Renault_(S,_T1)_5\"].geometry}>\n            <meshBasicMaterial color=\"orangered\" />\n          </mesh>\n        </group>\n      </group>\n      <pointLight ref={exhaust} position={[0, 1, 30]} distance={100} intensity={1} color=\"orangered\" />\n    </group>\n  )\n}\n","import React, { useRef } from \"react\"\nimport { useThree, useFrame } from \"@react-three/fiber\"\nimport useStore from \"../store\"\n\nlet offset = 0\nexport default function Rig({ children }) {\n  const group = useRef()\n  const rig = useRef()\n  const mutation = useStore((state) => state.mutation)\n  const { fov, scale, binormal, normal, track, mouse } = mutation\n  const { camera } = useThree()\n\n  useFrame(() => {\n    const t = mutation.t\n    const pos = mutation.position.clone()\n    const segments = track.tangents.length\n    const pickt = t * segments\n    const pick = Math.floor(pickt)\n    const pickNext = (pick + 1) % segments\n    binormal.subVectors(track.binormals[pickNext], track.binormals[pick])\n    binormal.multiplyScalar(pickt - pick).add(track.binormals[pick])\n    const dir = track.parameters.path.getTangentAt(t)\n    offset += (Math.max(15, 15 + -mouse.y / 20) - offset) * 0.05\n    normal.copy(binormal).cross(dir)\n    pos.add(normal.clone().multiplyScalar(offset))\n    camera.position.copy(pos)\n    const lookAt = track.parameters.path.getPointAt((t + 30 / track.parameters.path.getLength()) % 1).multiplyScalar(scale)\n    camera.matrix.lookAt(camera.position, lookAt, normal)\n    camera.quaternion.setFromRotationMatrix(camera.matrix)\n    camera.fov += ((t > 0.4 && t < 0.45 ? 120 : fov) - camera.fov) * 0.05\n    camera.updateProjectionMatrix()\n    const lightPos = track.parameters.path.getPointAt((t + 1 / track.parameters.path.getLength()) % 1).multiplyScalar(scale)\n    group.current.position.copy(lightPos)\n    group.current.quaternion.setFromRotationMatrix(camera.matrix)\n  })\n\n  return (\n    <group ref={group}>\n      <pointLight distance={400} position={[0, 100, -420]} intensity={5} color=\"#9b51e0\" />\n      <group ref={rig} position={[0, 0, -50]}>\n        {children}\n      </group>\n    </group>\n  )\n}\n","import Hud from \"./Hud\"\nimport Stars from \"../3d/Stars\"\nimport Planets from \"../3d/Planets\"\nimport Effects from \"../3d/Effects\"\nimport Particles from \"../3d/Particles\"\nimport Rocks from \"../3d/Rocks\"\nimport Explosions from \"../3d/Explosions\"\nimport Track from \"../3d/Track\"\nimport Ship from \"../3d/Ship\"\nimport Rig from \"../3d/Rig\"\nimport { Canvas } from \"@react-three/fiber\"\nimport React, { Suspense, useState, useEffect } from \"react\"\nimport * as THREE from \"three\"\nimport styled from \"styled-components\"\nimport { engine, engine2, warp } from \"../audio\"\nimport useStore from \"../store\"\n\nexport const MenuGame = () => {\n  const { fov } = useStore((state) => state.mutation)\n  const actions = useStore((state) => state.actions)\n\n  const [loading, setLoading] = useState(true)\n\n  useEffect(() => {\n    return () => {\n      engine.pause()\n      engine2.pause()\n      warp.pause()\n    }\n  }, [])\n\n  return (\n    <Wrapper>\n      <Loading style={!loading ? { opacity: 0, pointerEvents: \"none\" } : {}}>\n        <h1>Loading...</h1>\n      </Loading>\n      <GameControls\n        onTouchMove={actions.onTouchMove}\n        onPointerUp={actions.cancelAutofire}\n        onPointerMove={actions.move}\n        onPointerDown={(e) => {\n          actions.move(e)\n          actions.autofire(e)\n        }}>\n        <Canvas\n          linear\n          mode=\"concurrent\"\n          dpr={[1, 1.5]}\n          gl={{ antialias: false }}\n          camera={{ position: [0, 0, 2000], near: 0.01, far: 10000, fov }}\n          onCreated={({ gl, camera }) => {\n            actions.init(camera)\n            gl.toneMapping = THREE.CineonToneMapping\n            gl.setClearColor(new THREE.Color(\"#020209\"))\n\n            setTimeout(() => {\n              setLoading(false)\n            }, 500)\n          }}>\n          <fog attach=\"fog\" args={[\"#070710\", 100, 700]} />\n          <ambientLight intensity={0.2} />\n          <Stars />\n          <Explosions />\n          <Track />\n          <Particles />\n          <Suspense fallback={null}>\n            <Rocks />\n            <Planets />\n            <Rig>\n              <Ship />\n            </Rig>\n          </Suspense>\n          <Effects />\n        </Canvas>\n        <Hud />\n      </GameControls>\n    </Wrapper>\n  )\n}\n\nconst Wrapper = styled.div`\n  height: 100%;\n`\n\nconst Loading = styled.div`\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0.5);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 999;\n  transition: opacity linear 2s;\n\n  h1 {\n    font-size: 3rem;\n    color: white;\n  }\n`\n\nconst GameControls = styled.div`\n  height: 100%;\n`\n","import { Menu, MenuActions, MenuActionItem } from \"./Menu\"\nimport styled from \"styled-components\"\nimport selectAudio from \"../audio/select.wav\"\nimport useStore from \"../store\"\nimport { Wave } from \"../Wave\"\n\nexport const MenuCredits = () => {\n  const actions = useStore((state) => state.actions)\n\n  return (\n    <Menu>\n      <Wave words={[\"Credits\"]} />\n      <Credits>\n        <p>\n          <a href=\"https://github.com/jakke-korpelainen/rylos-space-adventure\">Source code</a>\n        </p>\n        <h2>Programming</h2>\n        <p>\n          <a href=\"https://jakke.fi\">Jakke Korpelainen</a>\n        </p>\n        <p>\n          Based on tremendous work of <a href=\"https://github.com/drcmda\">drcmda</a>\n        </p>\n        <h2>Assets</h2>\n        <p>\n          Ship: <a href=\"https://sketchfab.com/themuffincoder\">TheMuffinCoder</a>\n        </p>\n        <p>\n          Rocks: <a href=\"https://sketchfab.com/dzemalmclaren\">Dzemal Semanic</a>\n        </p>\n        <p>\n          Crash sound created by <a href=\"https://freesound.org/s/95078/\">sandyrb</a>\n        </p>\n        <h2>Music</h2>\n        <p>\n          <a href=\"https://www.rylosplanet.fi/\">Rylos</a>\n        </p>\n      </Credits>\n      <MenuActions>\n        <MenuActionItem\n          onClick={() => {\n            new Audio(selectAudio).play()\n            actions.menu.start()\n          }}>\n          Back\n        </MenuActionItem>\n      </MenuActions>\n    </Menu>\n  )\n}\n\nconst Credits = styled.div`\n  width: 100%;\n  margin-top: 2rem;\n\n  a {\n    color: white;\n  }\n`\n","import React from \"react\"\nimport useStore from \"./store\"\nimport { css } from \"styled-components\"\nimport { MenuStart } from \"./Menu/MenuStart\"\nimport { MenuDead } from \"./Menu/MenuDead\"\nimport { MenuGame } from \"./Menu/MenuGame\"\nimport { MenuCredits } from \"./Menu/MenuCredits\"\n\nexport default function App() {\n  const menu = useStore((state) => state.menu)\n\n  if (menu === \"dead\") {\n    return <MenuDead />\n  }\n\n  if (menu === \"game\") {\n    return <MenuGame />\n  }\n\n  if (menu === \"credits\") {\n    return <MenuCredits />\n  }\n\n  return <MenuStart />\n}\n\nexport const baseCss = css`\n  font-family: \"Sedgwick Ave\", sans-serif;\n  position: absolute;\n  text-transform: uppercase;\n  font-weight: 900;\n  font-variant-numeric: slashed-zero tabular-nums;\n  line-height: 1em;\n  pointer-events: none;\n  color: #9b51e0;\n`\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport \"./styles.css\"\nimport App from \"./App\"\n\nReactDOM.render(<App />, document.getElementById(\"root\"))\n"],"sourceRoot":""}