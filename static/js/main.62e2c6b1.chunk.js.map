{"version":3,"sources":["3d/Stars.js","images/earth.jpg","images/moon.png","3d/Planets.js","3d/Effects.js","audio/laser.mp3","audio/engine.mp3","audio/engine2.mp3","audio/warp.mp3","audio/click.mp3","audio/explosion.mp3","audio/crash.wav","images/rylos-freak-lust.png","audio/rylos-freak-lust.mp3","images/rylos-misunderstood.jpg","audio/rylos-misunderstood.mp3","images/rylos-road.png","audio/rylos-road.mp3","images/rylos-climate.jpg","audio/rylos-climate.mp3","images/rylos-black-liquid.jpg","audio/rylos-black-liquid.mp3","audio/index.js","store.js","3d/Particles.js","3d/Rocks.js","3d/Explosions.js","3d/Track.js","3d/Ship.js","3d/Rig.js","images/rewind.svg","images/play.svg","Radio.js","images/cardiogram.svg","audio/heartbeat.wav","images/garbage.svg","Hud.js","images/rylos-logo.png","audio/game-over.wav","Menu.js","App.js","index.js"],"names":["Stars","count","positions","useMemo","i","r","theta","Math","PI","random","phi","acos","x","cos","sin","y","z","push","Float32Array","attachObject","length","array","itemSize","size","sizeAttenuation","color","fog","Planets","ref","useRef","useLoader","THREE","earthImg","moonImg","texture","moon","scale","position","args","map","roughness","distance","intensity","Effects","composer","useThree","scene","gl","camera","useEffect","current","setSize","width","height","useFrame","render","attachArray","undefined","extend","EffectComposer","ShaderPass","RenderPass","UnrealBloomPass","FilmPass","mp3","explosion","explosionAudio","soundTrack","songName","songCover","rylosFreakLustCover","songSrc","rylosFreakLustSong","rylosMisunderstoodCover","rylosMisunderstoodSong","rylosRoadCover","rylosRoadSong","rylosClimateCover","rylosClimateSong","rylosBlackLiquidCover","rylosBlackLiquidSong","crash","Audio","crashAudio","zap","zapAudio","engine","engineAudio","engine2","engine2Audio","warp","warpAudio","click","clickAudio","playAudio","audio","volume","loop","currentTime","play","guid","randomData","track","radius","Array","fill","t","pos","parameters","path","getPointAt","multiplyScalar","offset","clone","add","speed","hit","useStore","create","set","get","spline","Curves","GrannyKnot","cancelLaserTO","cancelExplosionTO","box","currentTrackIndex","menu","lastPoints","points","highScore","health","lasers","explosions","rocks","immunity","mutation","startTime","Date","now","fov","hits","particles","looptime","binormal","normal","clock","mouse","dummy","ray","actions","start","game","credits","reset","init","sessionHighscore","localStorage","getItem","parseInt","addEffect","setTimeout","time","timeDiff","difficultyModifier","min","max","warping","filter","test","previous","updates","data","state","clearTimeout","newRocks","rock","find","rockCollisions","setItem","shoot","updateMouse","clientX","clientY","window","innerWidth","innerHeight","copy","expandByScalar","result","intersectBox","origin","distanceTo","Particles","instancedMesh","forEach","particle","rotation","updateMatrix","setMatrixAt","matrix","instanceMatrix","needsUpdate","frustumCulled","Rocks","gltf","GLTFLoader","Rock","key","React","memo","nodes","materials","getElapsedTime","err","geometry","node_id4_Material_52_0","material","Material_52","make","createRef","normalize","Explosions","Explosion","group","type","mesh","children","vec","opacity","index","transparent","Track","red","orangered","ambientYellowLight","laserMaterial","crossMaterial","direction","Ship","main","laserGroup","laserLight","exhaust","cross","target","getWorldPosition","getWorldDirection","negate","visible","name","renderOrder","Rig","rig","segments","tangents","pickt","pick","floor","pickNext","subVectors","binormals","dir","getTangentAt","lookAt","getLength","quaternion","setFromRotationMatrix","updateProjectionMatrix","lightPos","Radio","initialSongIndex","useState","currentSoundtrackIndex","setCurrentSoundtrackIndex","audioElement","currentTrack","pause","removeAttribute","load","setAttribute","RadioWrapper","RadioCover","src","RadioControls","RadioTrack","RadioTrackDetails","className","RadioActions","onClick","prevIndex","rewindIcon","duration","paused","playIcon","nextIndex","styled","div","Hud","toggle","toggleSound","score","toFixed","lowHealth","healthColor","heartbeat","UpperLeft","HealthContainer","heartIcon","style","flexGrow","marginRight","HealthValue","backgroundColor","UpperRight","href","LowerLeft","Score","garbage","Global","LowerRight","base","css","createGlobalStyle","Menu","props","MenuWrapper","MenuContent","MenuAction","button","App","MenuDead","gameOver","Scores","MenuCredits","Credits","MenuGame","loading","setLoading","Wrapper","Loading","pointerEvents","GameControls","onPointerMove","linear","mode","dpr","antialias","near","far","onCreated","toneMapping","setClearColor","attach","fallback","MenuStart","rylosLogo","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.62e2c6b1.chunk.js","sourcesContent":["import React, { useMemo } from 'react'\n\nexport default function Stars({ count = 2000 }) {\n  const positions = useMemo(() => {\n    let positions = []\n    for (let i = 0; i < count; i++) {\n      const r = 4000\n      const theta = 2 * Math.PI * Math.random()\n      const phi = Math.acos(2 * Math.random() - 1)\n      const x = r * Math.cos(theta) * Math.sin(phi) + (-2000 + Math.random() * 4000)\n      const y = r * Math.sin(theta) * Math.sin(phi) + (-2000 + Math.random() * 4000)\n      const z = r * Math.cos(phi) + (-1000 + Math.random() * 2000)\n      positions.push(x)\n      positions.push(y)\n      positions.push(z)\n    }\n    return new Float32Array(positions)\n  }, [count])\n  return (\n    <points>\n      <bufferGeometry>\n        <bufferAttribute attachObject={['attributes', 'position']} count={positions.length / 3} array={positions} itemSize={3} />\n      </bufferGeometry>\n      <pointsMaterial size={15} sizeAttenuation color=\"white\" fog={false} />\n    </points>\n  )\n}\n","export default __webpack_public_path__ + \"static/media/earth.45ed3b77.jpg\";","export default __webpack_public_path__ + \"static/media/moon.27019542.png\";","import * as THREE from 'three'\nimport React, { useRef } from 'react'\nimport { useLoader } from '@react-three/fiber'\nimport earthImg from '../images/earth.jpg'\nimport moonImg from '../images/moon.png'\n\nexport default function Planets() {\n  const ref = useRef()\n  const [texture, moon] = useLoader(THREE.TextureLoader, [earthImg, moonImg])\n  return (\n    <group ref={ref} scale={[100, 100, 100]} position={[-500, -500, 1000]}>\n      <mesh>\n        <sphereGeometry args={[5, 32, 32]} />\n        <meshStandardMaterial map={texture} roughness={1} fog={false} />\n      </mesh>\n      <mesh position={[5, -5, -5]}>\n        <sphereGeometry args={[0.75, 32, 32]} />\n        <meshStandardMaterial roughness={1} map={moon} fog={false} />\n      </mesh>\n      <pointLight position={[-5, -5, -5]} distance={1000} intensity={6} />\n      <mesh position={[-30, -10, -60]}>\n        <sphereGeometry args={[4, 32, 32]} />\n        <meshBasicMaterial color=\"#FFFF99\" fog={false} />\n        <pointLight distance={6100} intensity={50} color=\"white\" />\n      </mesh>\n    </group>\n  )\n}\n","import React, { useRef, useEffect } from 'react'\nimport { extend, useThree, useFrame } from '@react-three/fiber'\nimport { EffectComposer } from 'three/examples/jsm/postprocessing/EffectComposer'\nimport { ShaderPass } from 'three/examples/jsm/postprocessing/ShaderPass'\nimport { RenderPass } from 'three/examples/jsm/postprocessing/RenderPass'\nimport { UnrealBloomPass } from 'three/examples/jsm/postprocessing/UnrealBloomPass'\nimport { FilmPass } from 'three/examples/jsm/postprocessing/FilmPass'\n\nextend({ EffectComposer, ShaderPass, RenderPass, UnrealBloomPass, FilmPass })\n\nexport default function Effects() {\n  const composer = useRef()\n  const { scene, gl, size, camera } = useThree()\n  useEffect(() => void composer.current.setSize(size.width, size.height), [size])\n  useFrame(() => composer.current.render(), 2)\n  return (\n    <effectComposer ref={composer} args={[gl]}>\n      <renderPass attachArray=\"passes\" scene={scene} camera={camera} />\n      <unrealBloomPass attachArray=\"passes\" args={[undefined, 1.8, 1, 0]} />\n    </effectComposer>\n  )\n}\n","export default __webpack_public_path__ + \"static/media/laser.373d639d.mp3\";","export default __webpack_public_path__ + \"static/media/engine.75bbe12e.mp3\";","export default __webpack_public_path__ + \"static/media/engine2.87c3c40a.mp3\";","export default __webpack_public_path__ + \"static/media/warp.1f9bec85.mp3\";","export default __webpack_public_path__ + \"static/media/click.db461987.mp3\";","export default __webpack_public_path__ + \"static/media/explosion.615cfd43.mp3\";","export default __webpack_public_path__ + \"static/media/crash.184e27d2.wav\";","export default __webpack_public_path__ + \"static/media/rylos-freak-lust.d42472e3.png\";","export default __webpack_public_path__ + \"static/media/rylos-freak-lust.a13462cf.mp3\";","export default __webpack_public_path__ + \"static/media/rylos-misunderstood.d13d9c2d.jpg\";","export default __webpack_public_path__ + \"static/media/rylos-misunderstood.2afd4c11.mp3\";","export default __webpack_public_path__ + \"static/media/rylos-road.86b24c20.png\";","export default __webpack_public_path__ + \"static/media/rylos-road.138ea8a0.mp3\";","export default __webpack_public_path__ + \"static/media/rylos-climate.f7a8098a.jpg\";","export default __webpack_public_path__ + \"static/media/rylos-climate.c3742818.mp3\";","export default __webpack_public_path__ + \"static/media/rylos-black-liquid.c5d1d0a2.jpg\";","export default __webpack_public_path__ + \"static/media/rylos-black-liquid.130be6d9.mp3\";","import zapAudio from './laser.mp3'\nimport engineAudio from './engine.mp3'\nimport engine2Audio from './engine2.mp3'\nimport warpAudio from './warp.mp3'\nimport clickAudio from './click.mp3'\nimport explosionAudio from './explosion.mp3'\nimport crashAudio from './crash.wav'\n\nimport rylosFreakLustCover from '../images/rylos-freak-lust.png'\nimport rylosFreakLustSong from './rylos-freak-lust.mp3'\n\nimport rylosMisunderstoodCover from '../images/rylos-misunderstood.jpg'\nimport rylosMisunderstoodSong from './rylos-misunderstood.mp3'\n\nimport rylosRoadCover from '../images/rylos-road.png'\nimport rylosRoadSong from './rylos-road.mp3'\n\nimport rylosClimateCover from '../images/rylos-climate.jpg'\nimport rylosClimateSong from './rylos-climate.mp3'\n\nimport rylosBlackLiquidCover from '../images/rylos-black-liquid.jpg'\nimport rylosBlackLiquidSong from './rylos-black-liquid.mp3'\n\nconst mp3 = { explosion: explosionAudio }\n\nconst soundTrack = [\n  { songName: 'Rylos - Freak Lust', songCover: rylosFreakLustCover, songSrc: rylosFreakLustSong },\n  {\n    songName: 'Rylos - Misunderstood',\n    songCover: rylosMisunderstoodCover,\n    songSrc: rylosMisunderstoodSong\n  },\n  {\n    songName: 'Rylos - Road',\n    songCover: rylosRoadCover,\n    songSrc: rylosRoadSong\n  },\n  {\n    songName: 'Rylos - Climate',\n    songCover: rylosClimateCover,\n    songSrc: rylosClimateSong\n  },\n  {\n    songName: 'Rylos - Black Liquid',\n    songCover: rylosBlackLiquidCover,\n    songSrc: rylosBlackLiquidSong\n  }\n]\n\nconst crash = new Audio(crashAudio)\nconst zap = new Audio(zapAudio)\nconst engine = new Audio(engineAudio)\nconst engine2 = new Audio(engine2Audio)\nconst warp = new Audio(warpAudio)\nconst click = new Audio(clickAudio)\nconst explosion = new Audio(explosionAudio)\n\nexport function playAudio(audio, volume = 1, loop = false) {\n  audio.currentTime = 0\n  audio.volume = volume\n  audio.loop = loop\n  audio.play()\n}\n\nexport { crash, soundTrack, zap, engine, engine2, warp, click, explosion, mp3 }\n","import * as THREE from 'three'\nimport { Curves } from 'three/examples/jsm/curves/CurveExtras'\nimport { addEffect } from '@react-three/fiber'\nimport create from 'zustand'\nimport * as audio from './audio'\n\nlet guid = 1\nconst COLLISION_DAMAGE = 20\nconst DIFFICULTY_INCREASE_INTERVAL = 15000\nconst MAXIMUM_TRAVEL_SPEED = 10000\n\nconst useStore = create((set, get) => {\n  let spline = new Curves.GrannyKnot()\n  let track = new THREE.TubeBufferGeometry(spline, 250, 0.2, 10, true)\n  let cancelLaserTO = undefined\n  let cancelExplosionTO = undefined\n  const box = new THREE.Box3()\n\n  return {\n    currentTrackIndex: 0,\n    menu: undefined,\n    camera: undefined,\n    lastPoints: 0,\n    points: 0,\n    highScore: 0,\n    health: 100,\n    lasers: [],\n    explosions: [],\n    rocks: randomData(100, track, 150, 8, () => 1 + Math.random() * 2.5),\n    immunity: true,\n\n    mutation: {\n      t: 0,\n      position: new THREE.Vector3(),\n      startTime: Date.now(),\n\n      track,\n      scale: 15,\n      fov: 70,\n      hits: false,\n      particles: randomData(1500, track, 100, 1, () => 0.5 + Math.random() * 0.8),\n      looptime: 40 * 1000,\n      binormal: new THREE.Vector3(),\n      normal: new THREE.Vector3(),\n      clock: new THREE.Clock(false),\n      mouse: new THREE.Vector2(-250, 50),\n\n      // Re-usable objects\n      dummy: new THREE.Object3D(),\n      ray: new THREE.Ray(),\n      box: new THREE.Box3()\n    },\n\n    actions: {\n      menu: {\n        start() {\n          set({ menu: null })\n        },\n        game() {\n          set({ menu: 'game' })\n        },\n        credits() {\n          set({ menu: 'credits' })\n        }\n      },\n      reset() {\n        set({ menu: 'game', health: 100, immunity: true, points: 0 })\n      },\n      init(camera) {\n        const { mutation, actions } = get()\n\n        const sessionHighscore = localStorage.getItem('rylos-space-adventure-hiscore')\n        if (sessionHighscore && parseInt(sessionHighscore)) {\n          set({ highScore: sessionHighscore })\n        }\n\n        set({ camera })\n        mutation.clock.start()\n\n        audio.playAudio(audio.engine, 1, true)\n        audio.playAudio(audio.engine2, 0.3, true)\n\n        addEffect(() => {\n          const { immunity } = get()\n          if (immunity) {\n            setTimeout(() => set({ immunity: false }), 5000)\n          }\n        })\n\n        addEffect(() => {\n          const { rocks, immunity } = get()\n\n          const time = Date.now()\n\n          // increase travel speed every (n) seconds overtime with a hard cap at very difficult\n          const timeDiff = time - mutation.startTime\n          const difficultyModifier = Math.min(timeDiff / DIFFICULTY_INCREASE_INTERVAL, 30)\n          const looptime = Math.max((40 - difficultyModifier) * 1000, MAXIMUM_TRAVEL_SPEED)\n\n          const t = (mutation.t = ((time - mutation.startTime) % looptime) / looptime)\n\n          mutation.position = track.parameters.path.getPointAt(t)\n          mutation.position.multiplyScalar(mutation.scale)\n\n          // test for wormhole/warp\n          let warping = false\n          if (t > 0.3 && t < 0.4) {\n            if (!warping) {\n              warping = true\n              audio.playAudio(audio.warp)\n            }\n          } else if (t > 0.5) warping = false\n\n          // test for hits\n          const r = rocks.filter(actions.test)\n\n          const previous = mutation.hits\n          mutation.hits = r.length\n          if (previous === 0 && mutation.hits) {\n            audio.playAudio(audio.click)\n          }\n\n          // laser targed collisions\n          const lasers = get().lasers\n          if (mutation.hits && lasers.length && time - lasers[lasers.length - 1] < 100) {\n            const updates = r.map((data) => ({ time: Date.now(), ...data }))\n            set((state) => ({ explosions: [...state.explosions, ...updates] }))\n            clearTimeout(cancelExplosionTO)\n            cancelExplosionTO = setTimeout(() => set((state) => ({ explosions: state.explosions.filter(({ time }) => Date.now() - time <= 1000) })), 1000)\n\n            // replace shot rocks with new ones\n            const newRocks = randomData(mutation.hits, track, 150, 8, () => 1 + Math.random() * 2.5)\n\n            set((state) => ({\n              points: state.points + r.length * 100,\n              rocks: [...newRocks, ...state.rocks.filter((rock) => !r.find((r) => r.guid === rock.guid))]\n            }))\n          }\n\n          // player movement collisions\n          const rockCollisions = r.filter((data) => data.distance < 15)\n          if (rockCollisions.length > 0) {\n            audio.playAudio(audio.crash, 1, false)\n\n            const updates = rockCollisions.map((data) => ({ time: Date.now(), ...data }))\n            set((state) => ({ explosions: [...state.explosions, ...updates] }))\n            clearTimeout(cancelExplosionTO)\n            cancelExplosionTO = setTimeout(() => set((state) => ({ explosions: state.explosions.filter(({ time }) => Date.now() - time <= 1000) })), 1000)\n\n            // replace collided rocks with new ones\n            const newRocks = randomData(mutation.hits, track, 150, 8, () => 1 + Math.random() * 2.5)\n\n            set((state) => ({\n              rocks: [...newRocks, ...state.rocks.filter((rock) => !rockCollisions.find((r) => r.guid === rock.guid))]\n            }))\n\n            if (immunity === false) {\n              set((state) => ({ health: Math.max(0, state.health - COLLISION_DAMAGE) }))\n            }\n          }\n\n          if (get().health <= 0) {\n            const points = get().points\n            set(() => ({ menu: 'dead', lastPoints: points }))\n\n            if (get().highScore < points) {\n              set({ highScore: points })\n              localStorage.setItem('rylos-space-adventure-hiscore', points)\n            }\n          }\n        })\n      },\n      shoot() {\n        set((state) => ({ lasers: [...state.lasers, Date.now()] }))\n        clearTimeout(cancelLaserTO)\n        cancelLaserTO = setTimeout(() => set((state) => ({ lasers: state.lasers.filter((t) => Date.now() - t <= 1000) })), 1000)\n        audio.playAudio(audio.zap, 0.25)\n      },\n      updateMouse({ clientX: x, clientY: y }) {\n        get().mutation.mouse.set(x - window.innerWidth / 2, y - window.innerHeight / 2)\n      },\n      test(data) {\n        box.min.copy(data.offset)\n        box.max.copy(data.offset)\n        box.expandByScalar(data.size * data.scale)\n        data.hit.set(10000, 10000, 10000)\n        const result = get().mutation.ray.intersectBox(box, data.hit)\n        data.distance = get().mutation.ray.origin.distanceTo(data.hit)\n        return result\n      }\n    }\n  }\n})\n\nfunction randomData(count, track, radius, size, scale) {\n  return new Array(count).fill().map(() => {\n    const t = Math.random()\n    const pos = track.parameters.path.getPointAt(t)\n    pos.multiplyScalar(15)\n    const offset = pos\n      .clone()\n      .add(new THREE.Vector3(-radius + Math.random() * radius * 2, -radius + Math.random() * radius * 2, -radius + Math.random() * radius * 2))\n    const speed = 0.1 + Math.random()\n    return { guid: guid++, scale: typeof scale === 'function' ? scale() : scale, size, offset, pos, speed, radius, t, hit: new THREE.Vector3(), distance: 1000 }\n  })\n}\n\nexport default useStore\n","import React, { useRef, useEffect } from 'react'\nimport useStore from '../store'\n\nexport default function Particles() {\n  const instancedMesh = useRef()\n  const { particles, dummy } = useStore((state) => state.mutation)\n\n  useEffect(() => {\n    particles.forEach((particle, i) => {\n      const { offset, scale } = particle\n      dummy.position.copy(offset)\n      dummy.scale.set(scale, scale, scale)\n      dummy.rotation.set(Math.sin(Math.random()) * Math.PI, Math.sin(Math.random()) * Math.PI, Math.cos(Math.random()) * Math.PI)\n      dummy.updateMatrix()\n      instancedMesh.current.setMatrixAt(i, dummy.matrix)\n    })\n    instancedMesh.current.instanceMatrix.needsUpdate = true\n  }, [])\n\n  return (\n    <instancedMesh ref={instancedMesh} args={[null, null, particles.length]} frustumCulled={false}>\n      <coneGeometry args={[2, 2, 3]} />\n      <meshStandardMaterial color=\"#606060\" />\n    </instancedMesh>\n  )\n}\n","import React, { useRef } from 'react'\nimport { useFrame, useLoader } from '@react-three/fiber'\nimport { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader'\nimport useStore from '../store'\n\nexport default function Rocks() {\n  const gltf = useLoader(GLTFLoader, '/rylos-space-adventure/rock.gltf')\n  const rocks = useStore((state) => state.rocks)\n  return rocks.map((data) => <Rock {...gltf} key={data.guid} data={data} />)\n}\n\nconst Rock = React.memo(({ nodes, materials, data }) => {\n  const ref = useRef()\n  const { clock } = useStore((state) => state.mutation)\n  useFrame(() => {\n    try {\n      const r = Math.cos((clock.getElapsedTime() / 2) * data.speed) * Math.PI\n      ref.current.rotation.set(r, r, r)\n    } catch (err) {}\n  })\n  return (\n    <group ref={ref} position={data.offset} scale={[data.scale, data.scale, data.scale]}>\n      <group\n        position={[-0.016298329457640648, -0.012838120572268963, 0.24073271453380585]}\n        rotation={[3.0093872578726644, 0.27444228385461117, -0.22745113653772078]}\n        scale={[20, 20, 20]}>\n        <mesh geometry={nodes.node_id4_Material_52_0.geometry} material={materials.Material_52} material-roughness={1} material-metalness={1} />\n      </group>\n    </group>\n  )\n})\n","import * as THREE from 'three'\nimport React, { useRef, useMemo, useEffect } from 'react'\nimport { useFrame } from '@react-three/fiber'\nimport useStore from '../store'\nimport * as audio from '../audio'\n\nfunction make(color, speed) {\n  return {\n    ref: React.createRef(),\n    color,\n    data: new Array(20)\n      .fill()\n      .map(() => [\n        new THREE.Vector3(),\n        new THREE.Vector3(-1 + Math.random() * 2, -1 + Math.random() * 2, -1 + Math.random() * 2).normalize().multiplyScalar(speed * 0.75)\n      ])\n  }\n}\n\nexport default function Explosions() {\n  const explosions = useStore((state) => state.explosions)\n  return explosions.map(({ guid, offset, scale }) => <Explosion key={guid} position={offset} scale={scale * 0.75} />)\n}\n\nfunction Explosion({ position, scale }) {\n  const group = useRef()\n  const { dummy } = useStore((state) => state.mutation)\n  const particles = useMemo(() => [make('white', 0.8), make('orange', 0.6)], [])\n\n  useEffect(() => void audio.playAudio(new Audio(audio.mp3.explosion), 0.2), [])\n\n  useFrame(() => {\n    particles.forEach(({ data }, type) => {\n      try {\n        const mesh = group.current.children[type]\n        data.forEach(([vec, normal], i) => {\n          vec.add(normal)\n          dummy.position.copy(vec)\n          dummy.updateMatrix()\n          mesh.setMatrixAt(i, dummy.matrix)\n        })\n        mesh.material.opacity -= 0.025\n        mesh.instanceMatrix.needsUpdate = true\n      } catch (err) {}\n    })\n  })\n\n  return (\n    <group ref={group} position={position} scale={[scale, scale, scale]}>\n      {particles.map(({ color, data }, index) => (\n        <instancedMesh key={index} args={[null, null, data.length]} frustumCulled={false}>\n          <dodecahedronGeometry args={[10, 0]} />\n          <meshBasicMaterial color={color} transparent opacity={1} fog={false} />\n        </instancedMesh>\n      ))}\n    </group>\n  )\n}\n","import React from 'react'\nimport useStore from '../store'\n\nexport default function Track() {\n  const { scale, track } = useStore((state) => state.mutation)\n  return (\n    <mesh scale={[scale, scale, scale]} geometry={track}>\n      <meshBasicMaterial color=\"#9b51e0\" />\n    </mesh>\n  )\n}\n","import * as THREE from 'three'\nimport React, { useRef } from 'react'\nimport { useLoader, useFrame } from '@react-three/fiber'\nimport { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader'\nimport useStore from '../store'\n\nconst geometry = new THREE.BoxBufferGeometry(1, 1, 40)\nconst red = new THREE.Color('red')\nconst orangered = new THREE.Color('orangered')\nconst ambientYellowLight = new THREE.Color('#FFF293')\nconst laserMaterial = new THREE.MeshBasicMaterial({ color: orangered })\nconst crossMaterial = new THREE.MeshBasicMaterial({ color: orangered, fog: false })\nconst position = new THREE.Vector3()\nconst direction = new THREE.Vector3()\n\nexport default function Ship() {\n  const { nodes } = useLoader(GLTFLoader, '/rylos-space-adventure/ship.gltf')\n  const mutation = useStore((state) => state.mutation)\n  const { clock, mouse, ray } = mutation\n  const lasers = useStore((state) => state.lasers)\n  const main = useRef()\n  const laserGroup = useRef()\n  const laserLight = useRef()\n  const exhaust = useRef()\n  const cross = useRef()\n  const target = useRef()\n\n  useFrame(() => {\n    main.current.position.z = Math.sin(clock.getElapsedTime() * 40) * Math.PI * 0.2\n    main.current.rotation.z += (mouse.x / 500 - main.current.rotation.z) * 0.2\n    main.current.rotation.x += (-mouse.y / 1200 - main.current.rotation.x) * 0.2\n    main.current.rotation.y += (-mouse.x / 1200 - main.current.rotation.y) * 0.2\n    main.current.position.x += (mouse.x / 10 - main.current.position.x) * 0.2\n    main.current.position.y += (25 + -mouse.y / 10 - main.current.position.y) * 0.2\n    exhaust.current.scale.x = 1 + Math.sin(clock.getElapsedTime() * 200)\n    exhaust.current.scale.y = 1 + Math.sin(clock.getElapsedTime() * 200)\n    exhaust.current.scale.x = 0.01\n    exhaust.current.scale.y = 0.01\n    for (let i = 0; i < lasers.length; i++) {\n      const group = laserGroup.current.children[i]\n      group.position.z -= 20\n    }\n    laserLight.current.intensity += ((lasers.length && Date.now() - lasers[lasers.length - 1] < 100 ? 20 : 0) - laserLight.current.intensity) * 0.3\n\n    // Get ships orientation and save it to the stores ray\n    main.current.getWorldPosition(position)\n    main.current.getWorldDirection(direction)\n    ray.origin.copy(position)\n    ray.direction.copy(direction.negate())\n\n    crossMaterial.color = mutation.hits ? red : orangered\n    // cross.current.visible = true // !mutation.hits\n    target.current.visible = !!mutation.hits\n  })\n\n  return (\n    <group ref={main}>\n      <group scale={[3.5, 3.5, 3.5]}>\n        <group ref={cross} position={[0, 0, -300]} name=\"cross\">\n          <mesh renderOrder={1000} material={crossMaterial}>\n            <boxGeometry args={[20, 2, 2]} />\n          </mesh>\n          <mesh renderOrder={1000} material={crossMaterial}>\n            <boxGeometry args={[2, 20, 2]} />\n          </mesh>\n        </group>\n        <group ref={target} position={[0, 0, -300]} name=\"target\">\n          <mesh position={[0, 20, 0]} renderOrder={1000} material={crossMaterial}>\n            <boxGeometry args={[40, 2, 2]} />\n          </mesh>\n          <mesh position={[0, -20, 0]} renderOrder={1000} material={crossMaterial}>\n            <boxGeometry args={[40, 2, 2]} />\n          </mesh>\n          <mesh position={[20, 0, 0]} renderOrder={1000} material={crossMaterial}>\n            <boxGeometry args={[2, 40, 2]} />\n          </mesh>\n          <mesh position={[-20, 0, 0]} renderOrder={1000} material={crossMaterial}>\n            <boxGeometry args={[2, 40, 2]} />\n          </mesh>\n        </group>\n        <pointLight ref={laserLight} position={[0, 0, -20]} distance={100} intensity={0} color={ambientYellowLight} />\n        <group ref={laserGroup}>\n          {lasers.map((t, i) => (\n            <group key={i}>\n              <mesh position={[-2.8, 0, -0.8]} geometry={geometry} material={laserMaterial} />\n              <mesh position={[2.8, 0, -0.8]} geometry={geometry} material={laserMaterial} />\n            </group>\n          ))}\n        </group>\n        <group rotation={[Math.PI / 2, Math.PI, 0]}>\n          <mesh name=\"Renault_(S,_T1)_0\" geometry={nodes['Renault_(S,_T1)_0'].geometry}>\n            <meshStandardMaterial color=\"#16161d\" />\n          </mesh>\n          <mesh name=\"Renault_(S,_T1)_1\" geometry={nodes['Renault_(S,_T1)_1'].geometry}>\n            <meshStandardMaterial color=\"#4c341c\" />\n          </mesh>\n          <mesh name=\"Renault_(S,_T1)_2\" geometry={nodes['Renault_(S,_T1)_2'].geometry}>\n            <meshStandardMaterial color=\"#16161d\" />\n          </mesh>\n          <mesh name=\"Renault_(S,_T1)_3\" geometry={nodes['Renault_(S,_T1)_3'].geometry}>\n            <meshBasicMaterial color=\"lightblue\" />\n          </mesh>\n          <mesh name=\"Renault_(S,_T1)_4\" geometry={nodes['Renault_(S,_T1)_4'].geometry}>\n            <meshBasicMaterial color=\"orangered\" />\n          </mesh>\n          <mesh name=\"Renault_(S,_T1)_5\" geometry={nodes['Renault_(S,_T1)_5'].geometry}>\n            <meshBasicMaterial color=\"orangered\" />\n          </mesh>\n        </group>\n      </group>\n      <pointLight ref={exhaust} position={[0, 1, 30]} distance={100} intensity={1} color=\"orangered\" />\n    </group>\n  )\n}\n","import React, { useRef } from 'react'\nimport { useThree, useFrame } from '@react-three/fiber'\nimport useStore from '../store'\n\nlet offset = 0\nexport default function Rig({ children }) {\n  const group = useRef()\n  const rig = useRef()\n  const mutation = useStore((state) => state.mutation)\n  const { fov, scale, binormal, normal, track, mouse } = mutation\n  const { camera } = useThree()\n\n  useFrame(() => {\n    const t = mutation.t\n    const pos = mutation.position.clone()\n    const segments = track.tangents.length\n    const pickt = t * segments\n    const pick = Math.floor(pickt)\n    const pickNext = (pick + 1) % segments\n    binormal.subVectors(track.binormals[pickNext], track.binormals[pick])\n    binormal.multiplyScalar(pickt - pick).add(track.binormals[pick])\n    const dir = track.parameters.path.getTangentAt(t)\n    offset += (Math.max(15, 15 + -mouse.y / 20) - offset) * 0.05\n    normal.copy(binormal).cross(dir)\n    pos.add(normal.clone().multiplyScalar(offset))\n    camera.position.copy(pos)\n    const lookAt = track.parameters.path.getPointAt((t + 30 / track.parameters.path.getLength()) % 1).multiplyScalar(scale)\n    camera.matrix.lookAt(camera.position, lookAt, normal)\n    camera.quaternion.setFromRotationMatrix(camera.matrix)\n    camera.fov += ((t > 0.4 && t < 0.45 ? 120 : fov) - camera.fov) * 0.05\n    camera.updateProjectionMatrix()\n    const lightPos = track.parameters.path.getPointAt((t + 1 / track.parameters.path.getLength()) % 1).multiplyScalar(scale)\n    group.current.position.copy(lightPos)\n    group.current.quaternion.setFromRotationMatrix(camera.matrix)\n  })\n\n  return (\n    <group ref={group}>\n      <pointLight distance={400} position={[0, 100, -420]} intensity={5} color=\"#9b51e0\" />\n      <group ref={rig} position={[0, 0, -50]}>\n        {children}\n      </group>\n    </group>\n  )\n}\n","export default __webpack_public_path__ + \"static/media/rewind.4cd5b907.svg\";","export default __webpack_public_path__ + \"static/media/play.496c51e4.svg\";","import rewindIcon from './images/rewind.svg'\nimport playIcon from './images/play.svg'\nimport React from 'react'\nimport { soundTrack } from './audio'\nimport { useEffect, useState } from 'react'\nimport styled from 'styled-components'\n\nexport const Radio = () => {\n  const initialSongIndex = Math.floor(Math.random() * (soundTrack.length - 1 - 0 + 1) + 0)\n  const [currentSoundtrackIndex, setCurrentSoundtrackIndex] = useState(initialSongIndex)\n  const audioElement = useState(new Audio(soundTrack[currentSoundtrackIndex].songSrc))[0]\n  const currentTrack = soundTrack[currentSoundtrackIndex]\n\n  useEffect(() => {\n    audioElement.loop = true\n    audioElement.play()\n    return () => {\n      audioElement.pause()\n      audioElement.removeAttribute('src')\n      audioElement.load()\n    }\n  }, [])\n\n  useEffect(() => {\n    audioElement.pause()\n    audioElement.setAttribute('src', soundTrack[currentSoundtrackIndex].songSrc)\n    audioElement.load()\n    audioElement.play()\n  }, [currentSoundtrackIndex])\n\n  const prev = () => {\n    const prevIndex = Math.max(currentSoundtrackIndex - 1, 0)\n    if (currentSoundtrackIndex === prevIndex) {\n      setCurrentSoundtrackIndex(soundTrack.length - 1)\n    } else {\n      setCurrentSoundtrackIndex(prevIndex)\n    }\n  }\n  const next = () => {\n    const nextIndex = Math.min(currentSoundtrackIndex + 1, soundTrack.length - 1)\n    if (nextIndex === currentSoundtrackIndex) {\n      setCurrentSoundtrackIndex(0)\n    } else {\n      setCurrentSoundtrackIndex(nextIndex)\n    }\n  }\n\n  const toggle = () => {\n    const isPlaying = audioElement.duration > 0 && !audioElement.paused\n    if (isPlaying) {\n      audioElement.pause()\n    } else {\n      audioElement.play()\n    }\n  }\n\n  return (\n    <RadioWrapper>\n      <RadioCover>\n        <img src={currentTrack.songCover} />\n      </RadioCover>\n      <RadioControls>\n        <RadioTrack>\n          <RadioTrackDetails>\n            <span>{currentTrack?.songName}</span>\n            <span className=\"last\">{currentTrack?.songName}</span>\n          </RadioTrackDetails>\n        </RadioTrack>\n        <RadioActions>\n          <button>\n            <img onClick={prev} src={rewindIcon} />\n          </button>\n          <button onClick={toggle}>\n            <img src={playIcon} />\n          </button>\n          <button>\n            <img onClick={next} src={rewindIcon} />\n          </button>\n        </RadioActions>\n      </RadioControls>\n    </RadioWrapper>\n  )\n}\n\nconst RadioWrapper = styled.div`\n  width: 400px;\n  max-width: 100%;\n  background: linear-gradient(#4f0158, #000000);\n  flex-direction: row;\n  display: flex;\n  padding: 10px;\n  overflow: hidden;\n  box-shadow: 0 15px 15px rgba(0, 0, 0, 0.7);\n  border-radius: 4px;\n\n  * {\n    cursor: pointer;\n    pointer-events: all;\n  }\n\n  @media only screen and (max-width: 900px) {\n    width: 100%;\n  }\n`\n\nconst RadioCover = styled.div`\n  border: 2px solid orangered;\n  overflow: hidden;\n  height: 90px;\n  width: 90px;\n  margin-right: 1rem;\n  img {\n    height: 100%;\n  }\n`\nconst RadioControls = styled.div`\n  flex-grow: 1;\n`\n\nconst RadioTrack = styled.div`\n  display: flex;\n  flex-direction: row;\n  width: 100%;\n  margin-bottom: 0.5rem;\n`\n\nconst RadioTrackDetails = styled.div`\n  position: relative;\n  height: 100%;\n  width: 100%;\n  border-radius: 2px;\n  padding: 1rem 0.5rem;\n  overflow: hidden;\n  background: black;\n\n  span {\n    white-space: nowrap;\n    padding-left: 100%;\n    top: 8px;\n    position: absolute;\n    color: white;\n    display: inline-block;\n    animation: scroll-left 12s linear infinite;\n  }\n  span.last {\n    animation-delay: 6s;\n  }\n`\n\nconst RadioActions = styled.div`\n  button {\n    border-radius: 1rem;\n    background: transparent;\n    width: 3.5rem;\n    margin-right: 0.5rem;\n    height: 2.5rem;\n    border-color: orangered;\n  }\n\n  button:last-of-type img {\n    width: 100%;\n    transform: scaleX(-1);\n  }\n\n  button img {\n    width: 100%;\n    height: 100%;\n  }\n`\n","export default __webpack_public_path__ + \"static/media/cardiogram.3d5622b7.svg\";","export default __webpack_public_path__ + \"static/media/heartbeat.7f66a5e2.wav\";","export default __webpack_public_path__ + \"static/media/garbage.520ba2b9.svg\";","import React, { useMemo, useEffect } from 'react'\nimport styled, { css, createGlobalStyle } from 'styled-components'\nimport useStore from './store'\nimport { Radio } from './Radio'\nimport heartIcon from './images/cardiogram.svg'\nimport heartbeat from './audio/heartbeat.wav'\nimport garbage from './images/garbage.svg'\n\nexport default function Hud() {\n  const points = useStore((state) => state.points)\n  const immunity = useStore((state) => state.immunity)\n  const health = useStore((state) => state.health)\n  const toggle = useStore((state) => state.actions.toggleSound)\n  const score = useMemo(() => (points >= 1000 ? (points / 1000).toFixed(1) + 'K' : points), [points])\n\n  const lowHealth = health < 50\n  const healthColor = lowHealth ? '#c5411e' : '#008C20'\n\n  useEffect(() => {\n    const audioElement = new Audio()\n    audioElement.volume = 1\n    audioElement.loop = true\n\n    if (lowHealth) {\n      audioElement.setAttribute('src', heartbeat)\n      audioElement.load()\n      audioElement.play()\n    } else {\n      audioElement.pause()\n      audioElement.removeAttribute('src')\n      audioElement.load()\n    }\n    return () => {\n      audioElement.pause()\n      audioElement.removeAttribute('src')\n      audioElement.load()\n    }\n  }, [lowHealth])\n\n  return (\n    <>\n      <UpperLeft onClick={() => toggle()}>\n        <HealthContainer>\n          <img className={lowHealth ? 'pulse' : ''} src={heartIcon} />\n          <div style={{ flexGrow: 1, marginRight: '1rem' }}>\n            <HealthValue style={{ backgroundColor: immunity ? 'blue' : healthColor, width: `${health}%` }}></HealthValue>\n          </div>\n        </HealthContainer>\n      </UpperLeft>\n      <UpperRight>\n        <a target=\"_blank\" href=\"https://www.rylosplanet.fi/\">\n          Rylos Planet\n        </a>\n      </UpperRight>\n      <LowerLeft>\n        <Score>\n          <img src={garbage} />\n          <h1>{score}</h1>\n        </Score>\n      </LowerLeft>\n      <Global />\n      <LowerRight>\n        <Radio />\n      </LowerRight>\n    </>\n  )\n}\n\nconst base = css`\n  font-family: 'Sedgwick Ave', sans-serif;\n  position: absolute;\n  text-transform: uppercase;\n  font-weight: 900;\n  font-variant-numeric: slashed-zero tabular-nums;\n  line-height: 1em;\n  pointer-events: none;\n  color: #9b51e0;\n`\n\nconst Score = styled.div`\n  display: flex;\n  flex-direction: row;\n\n  img {\n    width: 50px;\n    margin-right: 2rem;\n  }\n`\n\nconst HealthContainer = styled.div`\n  border-radius: 0.5rem;\n  display: flex;\n  flex-direction: row;\n  background: #333;\n  border: 2px solid #666;\n  min-width: 10vw;\n  margin-top: 1rem;\n  padding: 0.5rem;\n  max-width: 150px;\n\n  img {\n    max-width: 45px;\n    margin-right: 1rem;\n  }\n`\n\nconst HealthValue = styled.div`\n  background: green;\n  color: white;\n  overflow: hidden;\n  transition: width 0.2s ease-in;\n  height: 100%;\n`\n\nconst UpperLeft = styled.div`\n  ${base}\n  top: 50px;\n  left: 50px;\n  font-size: 2em;\n  transform: skew(5deg, 5deg);\n\n  @media only screen and (max-width: 900px) {\n    left: 20px;\n    top: 20px;\n    transform: none;\n    font-size: 1.5em;\n  }\n`\n\nconst UpperRight = styled.div`\n  ${base}\n  text-align: right;\n  top: 50px;\n  right: 50px;\n  font-size: 2em;\n  transform: skew(-5deg, -5deg);\n  pointer-events: all;\n  cursor: pointer;\n  text-shadow: 1px 1px 1px rgba(0, 0, 0.5);\n\n  * {\n    cursor: pointer;\n    pointer-events: all;\n  }\n\n  @media only screen and (max-width: 900px) {\n    top: 55px;\n    right: 30px;\n    transform: none;\n    font-size: 1.5em;\n  }\n\n  & > a {\n    color: #9b51e0;\n    text-decoration: none;\n  }\n  @media only screen and (max-width: 900px) {\n    font-size: 1.5em;\n  }\n`\n\nconst LowerLeft = styled.div`\n  ${base}\n  bottom: 50px;\n  left: 50px;\n  transform: skew(-5deg, -5deg);\n  text-shadow: 1px 1px 1px rgba(0, 0, 0.5);\n\n  h1 {\n    margin: 0;\n    font-size: 4em;\n    line-height: 1em;\n  }\n  @media only screen and (max-width: 900px) {\n    left: 20px;\n    bottom: 140px;\n    h1 {\n      font-size: 3em !important;\n    }\n  }\n`\n\nconst LowerRight = styled.div`\n  ${base}\n  bottom: 50px;\n  right: 50px;\n  transform: skew(5deg, 5deg);\n\n  * {\n    cursor: pointer;\n    pointer-events: all;\n  }\n\n  @media only screen and (max-width: 900px) {\n    transform: none;\n    bottom: 0;\n    right: 0;\n    width: 100%;\n  }\n`\n\nconst Global = createGlobalStyle`\n  * {\n    box-sizing: border-box;\n  }\n\n  html,\n  body,\n  #root {\n    width: 100%;\n    height: 100%;\n    margin: 0;\n    padding: 0;\n    user-select: none;\n    overflow: hidden;\n  }\n\n  #root {\n    overflow: auto;\n    padding: 0px;\n  }\n\n  body {\n    position: fixed;\n    overflow: hidden;\n    overscroll-behavior-y: none;\n    font-family: -apple-system, BlinkMacSystemFont, avenir next, avenir, helvetica neue, helvetica, ubuntu, roboto, noto, segoe ui, arial, sans-serif;\n    color: black;\n    background: white;\n  }\n`\n","export default __webpack_public_path__ + \"static/media/rylos-logo.46173d62.png\";","export default __webpack_public_path__ + \"static/media/game-over.dea041e4.wav\";","import React from 'react'\nimport styled from 'styled-components'\n\nexport const Menu = (props) => {\n  return (\n    <MenuWrapper>\n      <MenuContent>{props.children}</MenuContent>\n    </MenuWrapper>\n  )\n}\n\nconst MenuWrapper = styled.div`\n  background-repeat: no-repeat;\n  background-position: center 10%;\n  background-color: #16161d;\n  display: flex;\n  width: 100%;\n  height: 100%;\n  align-items: center;\n  justify-content: center;\n  color: white;\n\n  * {\n    cursor: default;\n  }\n\n  a {\n    cursor: pointer;\n  }\n\n  h1 {\n    font-size: 6rem;\n    font-family: 'Sedgwick Ave';\n    text-transform: uppercase;\n    margin-bottom: 0;\n    margin-top: 0;\n    text-align: center;\n  }\n\n  h1 + p {\n    font-size: 2rem;\n    width: 1200px;\n    max-width: 100%;\n    text-align: center;\n    margin-bottom: 5rem;\n    margin-top: 0;\n  }\n\n  @media only screen and (max-width: 900px) {\n    h1 {\n      font-size: 2.5rem;\n    }\n\n    h1 + p {\n      font-size: 1.2rem;\n    }\n  }\n`\n\nexport const MenuAction = styled.button`\n  border: 3px solid orangered;\n  pointer-events: all;\n  background: linear-gradient(#4f0158, #000000);\n  cursor: pointer;\n  color: white;\n  font-weight: 900;\n  text-transform: uppercase;\n  font-size: 3rem;\n  font-family: 'Sedgwick Ave';\n  min-width: 300px;\n  padding: 0 2rem;\n  margin-top: 1rem;\n\n  @media only screen and (max-width: 900px) {\n    font-size: 2rem;\n  }\n`\n\nconst MenuContent = styled.div`\n  height: 100%;\n  min-width: 80vw;\n  max-width: 90vw;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  img {\n    max-width: 100%;\n  }\n`\n","import * as THREE from 'three'\nimport React, { Suspense, useState, useEffect } from 'react'\nimport { Canvas } from '@react-three/fiber'\nimport Stars from './3d/Stars'\nimport Planets from './3d/Planets'\nimport Effects from './3d/Effects'\nimport Particles from './3d/Particles'\nimport Rocks from './3d/Rocks'\nimport Explosions from './3d/Explosions'\nimport Track from './3d/Track'\nimport Ship from './3d/Ship'\nimport Rig from './3d/Rig'\nimport Hud from './Hud'\nimport useStore from './store'\nimport rylosLogo from './images/rylos-logo.png'\nimport styled, { css } from 'styled-components'\nimport gameOver from './audio/game-over.wav'\nimport { Menu, MenuAction } from './Menu'\n\nexport default function App() {\n  const menu = useStore((state) => state.menu)\n\n  if (menu === 'dead') {\n    return <MenuDead />\n  }\n\n  if (menu === 'game') {\n    return <MenuGame />\n  }\n\n  if (menu === 'credits') {\n    return <MenuCredits />\n  }\n\n  return <MenuStart />\n}\n\nconst MenuDead = () => {\n  const highScore = useStore((state) => state.highScore)\n  const lastPoints = useStore((state) => state.lastPoints)\n  const reset = useStore((state) => state.actions.reset)\n\n  useEffect(() => {\n    const audioElement = new Audio()\n    audioElement.setAttribute('src', gameOver)\n    audioElement.play()\n\n    return () => {\n      audioElement.pause()\n      audioElement.removeAttribute('src')\n      audioElement.load()\n    }\n  })\n\n  return (\n    <Menu>\n      <h1>Game Over</h1>\n      <Scores>\n        <p>Score: {lastPoints}</p>\n        {highScore > 0 && <p>Highscore: {highScore}</p>}\n\n        {lastPoints === highScore && <p>New highscore!</p>}\n      </Scores>\n\n      <MenuAction onClick={reset}>Restart</MenuAction>\n    </Menu>\n  )\n}\n\nconst MenuCredits = () => {\n  const actions = useStore((state) => state.actions)\n\n  return (\n    <Menu>\n      <MenuAction onClick={() => actions.menu.start()}>Back</MenuAction>\n      <Credits>\n        <h2>Credits</h2>\n        <p>\n          <a href=\"https://github.com/jakke-korpelainen/rylos-space-adventure\">Source code</a>\n        </p>\n        <h3>Programming</h3>\n        <p>\n          <a href=\"https://jakke.fi\">Jakke Korpelainen</a>\n        </p>\n        <p>\n          Based on tremendous work of <a href=\"https://github.com/drcmda\">drcmda</a>\n        </p>\n        <h3>Assets</h3>\n        <p>\n          Ship: <a href=\"https://sketchfab.com/themuffincoder\">TheMuffinCoder</a>\n        </p>\n        <p>\n          Rocks: <a href=\"https://sketchfab.com/dzemalmclaren\">Dzemal Semanic</a>\n        </p>\n        <p>\n          Crash sound created by <a href=\"https://freesound.org/s/95078/\">sandyrb</a>\n        </p>\n        <h3>Music</h3>\n        <p>\n          <a href=\"https://www.rylosplanet.fi/\">Rylos</a>\n        </p>\n      </Credits>\n    </Menu>\n  )\n}\n\nconst MenuGame = () => {\n  const { fov } = useStore((state) => state.mutation)\n  const actions = useStore((state) => state.actions)\n\n  const [loading, setLoading] = useState(true)\n\n  return (\n    <Wrapper>\n      <Loading style={!loading ? { opacity: 0, pointerEvents: 'none' } : {}}>\n        <h1>Loading...</h1>\n      </Loading>\n      <GameControls onPointerMove={actions.updateMouse} onClick={actions.shoot}>\n        <Canvas\n          linear\n          mode=\"concurrent\"\n          dpr={[1, 1.5]}\n          gl={{ antialias: false }}\n          camera={{ position: [0, 0, 2000], near: 0.01, far: 10000, fov }}\n          onCreated={({ gl, camera }) => {\n            actions.init(camera)\n            gl.toneMapping = THREE.CineonToneMapping\n            gl.setClearColor(new THREE.Color('#020209'))\n            setLoading(false)\n          }}>\n          <fog attach=\"fog\" args={['#070710', 100, 700]} />\n          <ambientLight intensity={0.2} />\n          <Stars />\n          <Explosions />\n          <Track />\n          <Particles />\n          <Suspense fallback={null}>\n            <Rocks />\n            <Planets />\n            <Rig>\n              <Ship />\n            </Rig>\n          </Suspense>\n          <Effects />\n        </Canvas>\n        <Hud />\n      </GameControls>\n    </Wrapper>\n  )\n}\n\nconst MenuStart = () => {\n  const actions = useStore((state) => state.actions)\n\n  return (\n    <Menu>\n      <img src={rylosLogo} />\n      <h1>Space Adventure</h1>\n      <p>\n        Humankind has been dumping trash in to the space for ages. Now the trash are returning to the earth. Only Ned the Carrot and his loyal spaceship can\n        stop the earth from being trashed.\n      </p>\n      <MenuAction\n        onClick={() => {\n          actions.menu.game()\n        }}>\n        Play\n      </MenuAction>\n      <MenuAction\n        onClick={() => {\n          actions.menu.credits()\n        }}>\n        Credits\n      </MenuAction>\n    </Menu>\n  )\n}\n\nconst GameControls = styled.div`\n  height: 100%;\n`\n\nconst Scores = styled.div`\n  p {\n    font-size: 2rem;\n    width: 1200px;\n    max-width: 100%;\n    text-align: center;\n    margin-bottom: 2rem;\n    margin-top: 0;\n  }\n\n  @media only screen and (max-width: 900px) {\n    p {\n      font-size: 1.2rem;\n    }\n  }\n`\n\nconst Wrapper = styled.div``\n\nconst Loading = styled.div`\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0.5);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 999;\n  transition: opacity linear 2s;\n\n  h1 {\n    font-size: 3rem;\n    color: white;\n  }\n`\n\nconst Credits = styled.div`\n  width: 100%;\n  margin-top: 2rem;\n\n  a {\n    color: white;\n  }\n`\n\nexport const baseCss = css`\n  font-family: 'Sedgwick Ave', sans-serif;\n  position: absolute;\n  text-transform: uppercase;\n  font-weight: 900;\n  font-variant-numeric: slashed-zero tabular-nums;\n  line-height: 1em;\n  pointer-events: none;\n  color: #9b51e0;\n`\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './styles.css'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}